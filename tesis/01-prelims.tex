\documentclass[tesis.tex]{subfiles}
\begin{document}

\chapter{Preliminares.}


En este capítulo introducimos notación y varios resultados estándares que utilizaremos a lo largo de la tesis.

En la primera sección \ref{secc_tlen} introduciremos ágilmente resultados estándares de la teoría de lenguajes junto con algunos ejemplos para ilustrar todas estas definiciones.
En particular nos interesará especialmente para este trabajo la noción de lenguaje \ic que introduciremos en la subsección \ref{subs_ic}. 


En la segunda sección \ref{secc_teo_grp} introduciremos notación y probaremos algunos resultados  sobre grupos finitamente generados. 


Finalmente en \ref{secc_graf_nd} introducimos la notación que usaremos para los grafos no dirigidos, daremos una definición de los grafos de Cayley de un grupo y probaremos un resultado \ref{lema_cayley_libre_arbol} sobre los grafos de Cayley de los grupos libres que nos servirá más en adelante para guiarnos en la caracterización de los grafos de Cayley de los grupos virtualmente libres.


\section{Teoría de lenguajes.}\label{secc_tlen}	


Consideremos un conjunto no vacío $\Sigma$ luego dado $k \in \NN$ denotaremos $\Sigma^k$ al conjunto de palabras en $\Sigma$ de exactamente $k$ elementos.
Hacemos énfasis especial en el caso que $k=0$ denotando $\Sigma^0 = \{\epsilon\}$ a la \emph{palabra vacía}.
Dada una palabra $w= a_1 \dots a_k \in \Sigma^k$ diremos que su longitud es $k$ y lo denotaremos $|w| = k$. 
Similarmente si $ \Sigma = \{ a_{i} \}_{i \in I} $ denotaremos $|w|_{i}$ a la cantidad ocurrencias de $a_{i}$ en $w$.



\begin{deff}
	Dado $\Sigma$ conjunto consideramos
	\begin{equation*}
		\Sigma^{*} = \bigcup_{k=0}^{\infty} \Sigma^k
	\end{equation*}
	y una operación binaria
	\[
		\cdot: \Sigma^{*} \times \Sigma^{*} \to \Sigma^{*}
	\]
	que llamaremos la \emph{concatenación de palabras} y que definimos de la siguiente manera: 
	dadas $w_1=a_{1} \dots a_{k} \in \Sigma^{*}, w_2 = b_{1}\dots b_{l}\in \Sigma^{*}$ luego $w_1 \cdot w_2 = a_{1}\dots a_{k}b_{1}\dots b_{l}$.
	Esta operación es asociativa y tiene como elemento neutro a $\epsilon$.
	De esta manera obtenemos que $(\Sigma^{*}, \cdot)$ es un monoide que llamaremos el \emph{monoide libre} sobre $\Sigma$.
\end{deff}

Este monoide también puede ser caracterizado salvo isomorfismo por una propiedad universal.

\begin{obs}
	El monoide es libre con la siguiente propiedad universal: si tenemos una función de conjuntos $f: \Sigma \to M$ donde $M$ es algún monoide entonces existe un único morfismo de monoides $\overline f: \Sigma^{*} \to M$ que hace conmutar al siguiente diagrama.	
	
	\begin{center}
		\begin{tikzcd}
			\Sigma \arrow[r, "f"] \arrow[d, hook] & M \\
			\Sigma^* \arrow[ru, "\overline f",dashed,swap]    &  
		\end{tikzcd}
	\end{center}
	
\end{obs}

Una \emph{palabra} sobre $\Sigma$ es un $w \in \Sigma^*$.
Si $w $ es una palabra sobre el alfabeto $\Sigma$ luego una \emph{subpalabra} $u$ de $w$ es una palabra $u \in \Sigma^*$ tal que $w = vuz$ para algunas $v, z \in \Sigma^*$. 
Si $w = vu$ entonces $v$ es un \emph{prefijo} de $w$ y $u$ es un \emph{sufijo} de $w$.


\begin{deff}
	Un \emph{lenguaje} $L$ sobre un alfabeto $\Sigma$ es un subconjunto de $\Sigma^*$.
\end{deff}

\begin{deff}
	Sea $\Sigma$ conjunto finito.
	Dados lenguajes $L_{1}, L_{2} \subseteq \Sigma^*$ definimos el \emph{cociente a derecha de $L_{1}$ por $L_{2}$} como el siguiente lenguaje
	\[
	L_{1}/L_{2} = \{ w \in \Sigma^* \mid \exists x \in L_{2}: wx \in L_{1}    \}
	\]
	Análogamente definimos el cociente a izquierda $L_{2} \backslash L_{1}$.
\end{deff}
Destacamos el caso particular que $L_{1} = \{w\}$ un lenguaje formado con una única palabra y que $L_{2} = \Sigma^*$.
En este caso tenemos que $L_{1}/\Sigma^* = \{  x \in \Sigma^*  \mid x \ \text{es prefijo de} \ w  \}$.
Usaremos para este caso especial la notación $ \textrm{Pre}(w) = \{w\}/\Sigma^*$.
Análogamente el caso $L_{1} \backslash \Sigma^{*} = \{  x \in \Sigma^*  \mid x \ \text{es sufijo de} \ w  \}$.
Usaremos para este caso especial la notación $ \textrm{Pos}(w) = \{w\} \backslash \Sigma^*$.


Un \emph{prefijo propio} de $w$ es un prefijo $u$ tal que $u \neq w$ y $u \neq \epsilon$ y definimos similarmente un \emph{sufijo propio} como un sufijo $u$ tal que $u \neq w$ y $u \neq \epsilon$.


\begin{deff}\label{deff_pal_reversa}
	Sea $\Sigma$ un conjunto finito.
	Dada una palabra $w \in \Sigma^*$ tal que $w = a_1 \dots a_n$ denotaremos por $w^R \in \Sigma^*$ la \emph{palabra reversa} definida como $w^R = a_{n} \cdots a_{1}$.
\end{deff}

Dada una palabra $w \in \Sigma^*$ tal que $w = uv$ tenemos que vale la siguiente igualdad $w^R = v^Ru^R$.
En particular para cada alfabeto podemos definir un lenguaje que es el de los palíndromos.

\begin{deff}
	Sea $\Sigma = \{a,b\}$ entonces el \emph{lenguaje de los palíndromos sobre $\Sigma$} es el siguiente lenguaje:
	\[
		L_{\text{PAL}} = \{  w \in \Sigma^* \mid w = w^R \}.
	\]
\end{deff}



\begin{lema}\label{lema_palindromos_forma}
	Sea $w \in L_{\text{PAL}}$ entonces existe $u$ prefijo de $w$ y $c \in \{ a, b, \epsilon\}$ tal que $w = ucu^R$.
\end{lema}
\begin{proof}
	Separamos en dos casos.
	\begin{enumerate}
		\item Caso $|w| = 2k$ para $k \in \NN$.
		Sea $w = uv$ tal que $|u| = |v| = k$. 
		Luego como $w = w^R$ tenemos que $uv = v^Ru^R$ lo que implica que $v = u^R$ y así $w = u \epsilon u^R$ tal como queríamos probar.
		
		\item Caso $|w| = 2k+1$ para $k \in \NN$.
		En este caso podemos tomar $w = ucv$ donde $c \in \Sigma$.
		Idénticamente al caso anterior concluimos que $u = v^R$.
	\end{enumerate}
\end{proof}


\subsection{Gramáticas.}

\begin{deff}
	Una \emph{gramática} es una tupla ${\cal G} = (V, \Sigma, P, S)$ donde:
	\begin{itemize}
		\item $V$ es un conjunto finito denominado las \emph{variables};
		\item $S \in V$ es el \emph{símbolo inicial};
		\item $\Sigma$ es un conjunto finito disjunto de $V$ que denominamos \emph{símbolos terminales};
		\item $P \subseteq (V \cup \Sigma)^*V(V \cup \Sigma)^* \times (V \cup \Sigma)^*$ es un conjunto finito de \emph{producciones}.
	\end{itemize}
\end{deff}

Dada una gramática ${\cal G} = (V, \Sigma, P, S)$ a cualquiera de sus producciones $(\gamma, \nu) \in P$, la vamos a denotar por medio de la siguiente notación $\gamma \to \nu$. 

A partir de una gramática $\cGg$ vamos a definir una relación sobre $(\Sigma \cup V)^*$. 
Dados $x,y \in (\Sigma \cup V)^*$ diremos que $x$ \emph{deriva} en $y$ si existen $u,v,w,z \in (\Sigma \cup V)^*$ tales que $x = uwv$ e $y=uzv$ y tenemos una producción $w \to z \in P$.
La notación que usaremos es $x \Rightarrow_{\cal G} y$. 
Consideremos la clausura transitiva y reflexiva de esta relación que denotaremos por $\deriva$.



\begin{deff}
	Dada una gramática $\cGg$  definimos el \emph{lenguaje generado por la gramática} como
	\[
	L({\cal G}) = \{ w \in \Sigma^* \ | \ S \deriva w   \}.
	\]
\end{deff}

Este lenguaje está formado por las palabras en $\Sigma^*$ que se pueden derivar del símbolo inicial.
De esta manera una gramática la podemos pensar como un conjunto de reglas que nos permite generar un lenguaje. 
 

\medskip
\begin{ej}\label{gramatica-regular}
	Consideremos la siguiente gramática ${\cal G} = (V, \Sigma, P, S)$ donde $V = \{ S \}, \Sigma = \{ a,b \}$ y tenemos las siguientes producciones:
	\begin{align*}
		S & \to aS \mid b
	\end{align*}
	donde usamos $\mid$ para separar distintas producciones que tienen el mismo lado izquierdo.
	
	Veamos como podemos derivar la palabra $a^2b \in \Sigma^*$ usando las producciones de esta gramática. 
	Esto es que $S \deriva a^2b$.
	Tomamos la siguiente sucesión:
	\begin{align*}
		S \to aS \to aaS \to aab
	\end{align*} 
	y nos queda tal como queríamos ver.
	
	Llamemos al lenguaje $L = \{ a^{k}b : k \ge 0 \}$ y probemos que $L({\cal G}) = L$. 
	
	Si $w \in L(\cal G)$ entonces $S \deriva w$ por definición. 
	Probemos por inducción en la longitud de la palabra $w$ que $w \in L$.
	En el caso base $|w| = 1$ entonces la única opción es que $w = b$ dada por la siguiente derivación de un solo paso $S \to b$.
	Para el paso inductivo supongamos que vale que toda palabra $u \in L(\cG)$ tal que $|u| \le n-1$ es tal que $u \in L$.
	Sea $|w| = n$ entonces tenemos que la derivación tiene la siguiente pinta
	\[
		S \to aS \deriva aw'
	\]
	donde necesariamente el primer paso tiene que ser $S \to aS$ caso contrario no tendría longitud mayor a $1$ y también tiene que ser que $|w'| = n-1$ y $aw' = w$.
	Para finalizar esta demostración basta observar que $w' \in L(\cG)$ dado que $S \deriva w'$.
	Por hipótesis inductiva concluimos que $w' \in L$ por lo que $w' = a^{n-2}b$ y así $w = a^{n-1}b \in L$ tal como queríamos ver.
	
	Sea $w = a^kb \in L$ para $k \in \NN$, veamos que $w \in L(\cG)$.
	Para eso consideremos la siguiente derivación:
	\[
		S \deriva a^k S \to a^k b
	\]
	y así vemos que $w \in L(\cG)$.
\end{ej}



Es posible clasificar los lenguajes a partir de las características de las gramáticas que los generan. 

\subsection{Lenguajes regulares.}

\begin{deff}
	Decimos que una gramática $\gramatica$ es \emph{regular} si las producciones son del estilo
	\begin{enumerate}
		\item $A \to \epsilon$
		\item $A \to a$
		\item $A \to a B$
	\end{enumerate}
	donde $A, B \in V$, $a \in \Sigma$ y $\epsilon$ es la palabra vacía. 
	Si $L=\lengderivado$ para alguna gramática regular $\cal G$ entonces diremos que $L$ es un \emph{lenguaje regular}. 
\end{deff}


En particular la gramática del ejemplo \ref{gramatica-regular} es regular. 
De esta manera $L= \{ a^k b : \ k \ge 0  \}$ resulta ser un lenguaje regular.


\begin{deff}
	Un \emph{autómata finito no determinístico} es una tupla ${\cal M} = (Q,q_0,\Sigma,\delta,F)$ donde:
	\begin{itemize}
		\item $Q$ es un conjunto finito que denominamos \emph{estados}.
		\item $q_0 \in Q$ es el \emph{estado inicial}.
		\item $\Sigma$ es un conjunto finito que denominamos \emph{alfabeto}.
		\item $\delta:Q \times \Sigma \to {\cal P}(Q)$ es la \emph{función de transición}.
		\item $F \subseteq Q$ es un subconjunto de estados que llamaremos \emph{finales}.
	\end{itemize}
\end{deff}

Un par $(q,w) \in Q \times \Sigma^*$ lo llamaremos una \emph{configuración} del autómata.
Consideremos que $w = aw'$ donde $a \in \Sigma$ y $w' \in \Sigma^*$ luego si tenemos que $p \in \delta(q,a) $ entonces denotaremos esto así $(q,w) \vdash (p,w')$ y diremos que la configuración $(q,w)$ \emph{deriva} en la configuración $(p,w')$.
Esto nos define una relación $\vdash$ sobre $Q \times \Sigma^*$ tal que su clausura transitiva y reflexiva la denotaremos $\vdash^*_{\cal M}$.

Una configuración $(q,w)$ se dice \emph{irreducible} si no existe ninguna configuración $(p,u)$ tal que $(q,w) \vdash (p,u)$.
Equivalentemente esto sucede en dos casos.
El primero es que $w = \epsilon$ y el segundo es que $w = aw'$ y tenemos que $\delta(q,a) = \emptyset$.
Una configuración $(q,w)$ se dice \emph{final} si $q \in F$ y $w = \epsilon$.
En particular las configuraciones finales son irreducibles.

Una manera de \emph{consumir} una palabra $w \in \Sigma^*$ es una sucesión de configuraciones $(q_0,w) \vdash (q_{i_{1}}, w_{i_{1}}) \vdash \dots \vdash (q_{i_{n}}, w')$ donde $(q_{i_{n}}, w')$ es una configuración irreducible.

\begin{obs}
	Los autómatas $\cal M$ son \emph{no determinísticos} porque dada una configuración $(q,w)$ no irreducible donde $w = aw'$ con $a \in \Sigma, w' \in \Sigma^*$ podría suceder que $|\delta(q,a)| \ge 2$ por lo tanto la configuración $(q,w)$ podría derivar en más de una configuración.
	Un corolario de esta afirmación es que las palabras $w \in \Sigma^*$ pueden ser consumidas en más de una forma.
\end{obs}



\begin{deff}
	Dado un autómata finito no determinístico ${\cal M} = (Q,q_0,\Sigma,\delta,F)$ el \emph{lenguaje aceptado} por $\cal M$ es el siguiente:
	
	\[
	L({\cal M} ) = \{  w \in \Sigma^*\mid \exists  q_F \in F  ,  (q_0,w) \vdash^* (q_F,\epsilon)     \}.
	\]
\end{deff}
Equivalentemente el lenguaje aceptado por un automáta son las palabras que pueden ser 
consumidas de manera que terminan en una configuración final.
Notemos que al ser un automáta no determinístico podría ser que $w \in L(\cal M)$ y a su vez exista una forma de consumir a $w$ de manera que termina en una configuración que no es final.
Lo importante en esta definición es que exista al menos una manera de consumir a la palabra y termine en una configuración final.

Así como las gramáticas generan lenguajes los autómatas aceptan lenguajes.
Más en particular dado ${\cal M} = (Q,\{q_0\},\Sigma,\delta,F)$ autómata finito no determinístico y $w \in \Sigma^*$ palabra diremos que $\cal M$ \emph{acepta} a $w$ si $w \in L(\cal M)$.


\begin{teo}
	Un lenguaje $L$ es regular si y solo sí es aceptado por un autómata finito no determínistico.
\end{teo}

\begin{proof}
	Ver \cite[pp.218-219]{hopcraft-ullman}.
\end{proof}


\subsection{Lenguajes independientes de contexto.} \label{subs_ic}
\begin{deff}
	Una gramática $\gramatica $ es \emph{independiente de contexto} si las producciones tienen la siguiente forma:
	\begin{equation*}
		A \to w
	\end{equation*}
	donde $A \in V, w \in (\Sigma \cup V)^*$.  
	Si $L=\lengderivado$ para alguna gramática independiente de contexto $\cal G$ entonces diremos que $L$ es un \emph{lenguaje independiente de contexto}.
\end{deff}
Estas gramáticas reciben el nombre de independientes de contexto porque independientemente de qué símbolos rodean a un no terminal $A$ siempre lo vamos a poder reemplazar por $w$ si $A \to w$ es una producción.

\begin{obs}
	Todo lenguaje regular en particular resulta ser un lenguaje \ic.
\end{obs}


\begin{prop}\label{leng_ej_gram_palindromos}
	El lenguaje $ L_{\text{PAL}}$ es independiente de contexto. 
\end{prop}

\begin{proof}
	Construyamos una gramática independiente de contexto $\gramatica$ tal que $L(\cG) = L_{\text{PAL}}$.
	Consideramos la siguiente gramática ${\cal G}  =  (\{S\}, \Sigma, P, S )$ donde las producciones $P$ están dadas por:
	\begin{equation*}
		S  \to \epsilon \\ \mid a  \mid  b \\ \mid aSa \\ \mid bSb. \\
	\end{equation*}
		

	Probemos primero que $L(\cG) \subseteq L_{\text{PAL}}$.
	Sea $w \in L(\cG)$, probaremos por inducción en $|w|$ que $w \in L_{\text{PAL}}$.
	Para el caso base tenemos que $|w|=0$ por lo que $w = \epsilon$ y notemos que
	$w \in L(\cG)$ dado que tenemos la siguiente derivación $S \to \epsilon$.
	Como $\epsilon = \epsilon^R$ entonces $\epsilon \in L_{\text{PAL}}$.
	
	Para el paso inductivo supongamos que para toda $u \in L(\cG)$ tal que $|u| \le n-1$ vale que $u \in L_{\text{PAL}}$.
	Sea $w \in L(\cG)$ tal que $|w| = n$. 
	Separamos en dos casos:
	Si $|w| = 1$ entonces $w=a$ o $w = b$ y en tal caso tenemos que $w\in L_{\text{PAL}}$.
	Si $|w| \ge 1$ entonces la derivación de $w$ debería ser de la siguiente forma 
	\[
		S \to aSa \deriva awa
	\]
	o bien 
	\[
		S \to bSb \deriva bw'b
	\]
	dependiendo si $w$ comienza con $a$ o con $b$.
	En ambos casos tenemos que $S \deriva w'$ y $|w'| < n$ por ser una subpalabra de $w$ por lo tanto por hipótesis inductiva tenemos que $w' \in L_{\text{PAL}}$.
	En el caso $w = aw'a$ tenemos que $w^R = a(w')^Ra = aw'a$ por lo tanto $w \in L_{\text{PAL}}$. 
	Idénticamente vemos que vale esto en el caso que $w = bw'b$.
	
	
	Para ver que $L_{\text{PAL}} \subseteq L(\cG)$ lo probamos por inducción de una manera similar a como probamos la otra contención.
	Probaremos por inducción en la longitud de la palabra $w \in L_{\text{PAL}}$.
	En el caso base $w = \epsilon$ y tenemos que $S \to \epsilon$ por lo tanto $\epsilon \in L(\cG)$.
	Para el paso inductivo sea $w \in L_{\text{PAL}}$ tal que $|w|=n$ luego separamos en casos.
	Si $|w| = 1$ entonces $w = a$ o $w = b$ y en ese caso $w \in L(\cG)$.
	Si $|w| \ge 2$ y si $w$ empieza con $a$ tenemos que $w = aua$ necesariamente porque caso contrario no sería un palíndromo. 
	En particular tiene que valer que $u \in L_{\text{PAL}}$ caso contrario $w^R = au^Ra \neq aua = w$. 
	Por hipótesis inductiva tenemos que $u \in L(\cG)$ por lo tanto tenemos la siguiente derivación para $w$,
	\[
		S \to aSa \deriva aua = w
	\]
	y así vimos que $w \in L(\cG)$ tal como queríamos probar.
	El caso que $w$ empieza con $b$ resulta análogo.
	
\end{proof}

Las gramáticas pueden ser modificadas de manera que sigan generando el mismo lenguaje, en el caso de las gramáticas independiente de contexto pueden ser llevadas a una forma normal.

\begin{deff}
	Una gramática $\gramatica$ independiente de contexto está en \emph{forma normal de Chomsky} si las producciones son de este tipo:
	\begin{enumerate}[i)]
		\item $A \to BC$ donde $A\in V$ y $B,C \in V \setminus \{ S \}$.
		\item $A \to a$ donde $A \in V, a \in \Sigma$.
		\item $S \to \epsilon$ 
	\end{enumerate}
\end{deff}

\begin{prop}\label{prop_fn_Chomsky}
	Para toda gramática $\cal G$ independiente de contexto existe otra gramática $\cal G'$ independiente de contexto tal que está en forma normal de Chomsky y $\lengderivado = L(\cal G')$,
\end{prop}

\begin{proof}
	Ver \cite[pp.274-275]{hopcraft-ullman}.
\end{proof}

\subsection{Autómatas de pila.}

\begin{deff}\label{deff_apnd}
	Un \emph{autómata de pila finito no determinístico} es una tupla 
	\[
	{\cal M } = (Q, \Sigma, \Gamma, \delta, q_0, F, \$)
	\]
	donde 
	\begin{itemize}
		\item $Q$ es un conjunto finito denominado los \emph{estados};
		\item $\Sigma$ es un conjunto finito que denominamos el \emph{alfabeto del lenguaje};
		\item $\Gamma$ es un conjunto finito que denominamos el \emph{alfabeto de la pila};
		\item $\delta$ es la \emph{función de transición} donde $\delta: Q  \times (\Sigma \cup \{ \epsilon \}) \times \Gamma \to {\cal P}_{\textrm{fin}}( Q  \times \Gamma^*)$;
		\item $q_0 \in Q$ es el \emph{estado inicial};
		\item $F \subseteq Q$ es el conjunto de \emph{estados finales};
		\item $\$ \in \Gamma$ es el \emph{símbolo inicial} de la pila
	\end{itemize}
\end{deff}

Una \emph{configuración} de un autómata de pila no determinístico va a ser un triple $(q,w,\gamma) \in Q \times \Sigma^* \times \Gamma^*$.
Dada una configuración de un autómata de pila no determinístico $(q,w, \gamma)$
tal que $\gamma \neq \epsilon$ y en tal caso $\gamma = Z \gamma'$ diremos que $Z \in \Gamma$ es el \emph{tope de la pila} de esta configuración.
Intuitivamente el tope de la pila es lo último que apilamos y es lo único que podemos leer de la pila.

Sea una configuración $(q,w,\gamma)$ tal que $Z$ es el tope de la pila de esta configuración por lo tanto $\gamma = Z \gamma'$ y $w = aw'$ con $a \in \Sigma \cup \{\epsilon\}$ 
entonces si $(p,\theta) \in \delta(q,a,Z)$ luego denotaremos $(q,aw', Z\gamma') \vdash (p,w',\theta\gamma')$ y diremos que la configuración $(q,w,\gamma)$ \emph{deriva} en la configuración $(p,w',\theta\gamma')$.
Así como en el caso anterior de los autómatas finitos consideremos la relación generada por la clausura transitiva y reflexiva de esta operación tal que la denotaremos $\vdash^*_{\cal M}$.
Para cada $k \in \NN$ notaremos $\vdash^k$ a la aplicación $k$ veces de la derivación $\vdash$ y así tenemos que $\vdash^* = \bigcup_{k \in \NN} \vdash^k$.


Así como en el caso de los autómatas finitos no determinísticos podemos definir una \emph{configuración irreducible} $(q,aw',\gamma)$ como una configuración para la cual no existe ninguna otra configuración $(p,u,\theta)$ tal que $(q,w,\gamma) \vdash (p,u,\theta)$.
En particular esto podría ser por dos casos: el primero es que $\gamma = \epsilon$ y el segundo es que si $Z$ es el tope de pila de la configuración luego $\delta(q,a,Z) = \emptyset$.
Una manera de \emph{consumir} una palabra $w \in \Sigma^*$ es una sucesión finita de configuraciones $(q_{0},w,\$) \vdash \dots \vdash (p,u,\theta)$ donde $(p,u,\theta)$ es una configuración irreducible, o escrito de manera equivalente, debe existir $k \in \NN$ tal que $(q_{0},w,\$) \vdash^k (p,u,\theta)$.

\begin{deff}
	Dado $\cal M$ un autómata de pila no determinístico consideramos el \emph{lenguaje aceptado por estado final} como
	\begin{equation*}
		L( {\cal M}) = \{ w \in \Sigma^* \ | \ (q_0,w,\$) \vdash^* (q, \epsilon, \gamma), \ \ q \in F, \ \gamma \in \Gamma^*      \}.
	\end{equation*}
\end{deff}
Las \emph{configuraciones finales} para el lenguaje aceptado por estado final de un \APND van a ser las configuraciones que tienen la pinta $(q,\epsilon,\gamma)$ donde $q \in F$.
Expresado de otra manera tenemos que el lenguaje aceptado por un autómata de pila no determinístico son las palabras que pueden ser consumidas de manera que terminan en una configuración final.



\begin{prop}\label{ej_apnd_palindromos}
	Existe un autómata no determinístico de pila $\cal M$ tal que $L({\cal M}) = L_{\text{PAL}}$. 	
\end{prop}

\begin{proof}
	Consideremos el siguiente autómata de pila 
	\[
	M=(\{ q_{0}, q_{1}, q_{2} \},\{a,b\}, \{a,b,\$\} , \delta, q_0, \{q_2\}, \$)
	\]
	donde nuestra pila tiene el mismo alfabeto que el de entrada con un símbolo adicional que va funcionar como nuestro símbolo inicial de la pila. 
	El autómata tiene tres estados y lo vamos a representar de la siguiente manera:
	\begin{center}
		\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=3.5cm,
			scale = 1,transform shape]
			
			\node[state,initial] (q_0) {$q_0$};
			\node[state] (q_1) [right of= q_0] {$q_1$};
			\node[state,accepting] (q_2) [right of=q_1] {$q_2$};
			
			\path (q_0) edge [bend right, "II"]             node {} (q_1);
			\path (q_1) edge [loop above, "III"] node {}    (   );
			\path (q_0) edge [loop above, "I"] node {}    (   );
			\path (q_1) edge [bend right, "IV"] node {} (q_2);
		\end{tikzpicture}
	\end{center}
	Donde dibujamos una flecha siempre y cuando la función de transición nos permita ir del estado del cual sale la flecha al estado al que llega.
	A los estados finales los distinguimos dibujandoles el borde dos veces.
	
	Sea $Z \in \{ a,b, \$ \}$ algún elemento arbitrario del alfabeto de la pila. 
	Vamos a definir la función de transición en 4 casos que numeramos en la representación gráfica del autómata.
	\begin{itemize}
		\item Caso $I$. 
		En este caso tenemos que si $c \in \Sigma$ entonces $\delta(q_{0},c,Z) = (q_{0}, cZ)$.
		\item Caso $II$.
		En este caso tenemos que si $c \in \Sigma \cup \{ \epsilon \}$ entonces $\delta(q_{0},c,Z) = (q_{1}, Z)$. 
		\item Caso $III$.
		En este caso tenemos que si $c \in \Sigma$ entonces $\delta(q_{1},c,c) = (q_{1}, \epsilon)$.
		\item Caso $IV$.
		En este caso tenemos que $\delta(q_{1},\epsilon,\$) = (q_{2}, \epsilon)$.
	\end{itemize}

	A partir de esta definición de la función de transición del autómata obtenemos las siguientes dos observaciones que se siguen de aplicar varias veces la función de transición.
	
	\begin{enumerate}
		\item 
		Sea $(q_{0},uv, \$)$ una configuración de $\cal M$ y sea $|u| = k$ entonces tenemos que 
		\[
			(q_{0},uv, \$) \vdash^k (q_{0}, v, u^R \$).
		\]
		
		\item Sea $(q_{1},v, u\$)$ una configuración de $\cal M$, sea $|v| = k$ y 
		sea $u = vu'$  entonces tenemos que 
		\[
		(q_{1},v, u\$) \vdash^k (q_{1}, \epsilon, u' \$).
		\]
	\end{enumerate}
	
%	Sea $Z$ cualquier elemento del alfabeto de la pila y $X$ cualquier elemento de nuestro alfabeto de entrada e $Y = \{a,b, \epsilon\}$
%	entonces dada una configuración $(q_{i}, Y, Z)$ nuestra función de transición $\delta$ va a ser la siguiente,
%	\[
%	\delta(q_{i}, Y, Z)  = 
%	\begin{cases}
%		(q_0,aZ)  		& \text{si} \ i=0, Y = a \\
%		(q_0,bZ) 		&  \text{si} \ i=0, Y = b    \\
%		(q_1,\epsilon) 	&  \text{si} \ i=1, Y = a, Z = a 	\\
%		(q_1,\epsilon) 	&  \text{si} \ i=1, Y = b, Z = b \\
%		(q_1,Z)			& \text{si} \ i=0, Y = \epsilon \\
%		(q_1, Z)		& \text{si} \ i=0 \\
%	\end{cases}
%	\]
	
	Intuitivamente el \APND funciona de la siguiente manera. 
	En el primer estado $q_{0}$ apilamos algun prefijo de la palabra que queremos consumir.
	Transicionamos al estado $q_{1}$ leyendo alguna letra y en este estado desapilamos el prefijo que leímos anteriormente.
	Finalmente cuando nuestra pila está solamente con el símbolo inicial transicionamos	al estado final.
	
	Probemos que $L_{\text{PAL}} = L(\cal M)$.
	
	Primero vemos que $L_{\text{PAL}} \subseteq L(\cal M)$.
	Si $w \in L_{\text{PAL}}$ luego usando el lema \ref{lema_palindromos_forma}
	tenemos que existe $u$ prefijo de $w$ de manera que
	$w = ucu^R$ para cierto $c \in \Sigma \cup \{ \epsilon\}$.
	
	Si $|w|$ es par entonces sea $w = ucu^R$ con $|u| = k$ y $c=\epsilon$.
	Mientras que si es impar tenemos que $w = ucu^R$ con $|u| = k$ y $c \in \Sigma$.
	Primero apilamos la subpalabra $u$ en la pila y consumimos $u$,
	\[
	(q_{0}, ucu^R, \$) \overset{k}{\vdash} (q_{0},cu^R,u^R\$).
	\]
	Usando una de las transiciones del caso $II$ obtenemos que 
	$(q_{0},cu^R,u^R\$) \vdash (q_{1},u^R,u^R\$)$.
	Ahora desapilamos $u^R$ y consumimos $u^R$
	\[
	(q_{1},u^R,u^R\$) \overset{k}{\vdash} (q_{1},\epsilon,\$).
	\] 
	Finalmente tenemos que podemos transicionar al estado final de la siguiente manera
	\[
		(q_{2}, \epsilon, \$) \vdash (q_{2}, \epsilon, \epsilon),
	\]
	tal que $(q_{2}, \epsilon, \epsilon)$ es una configuración final por lo tanto $w$ es una palabra aceptada por el autómata $\cal M$ tal como queríamos ver.

	Probemos la otra contención.
	Para eso sea $w \in L(\cal M)$ luego tenemos que $(q_{0},w,\$) \overset{*}{\vdash} (q_{2},\epsilon,\gamma)$ para $\gamma \in \{ a,b, \$ \}^*$ por definición de lenguaje aceptado por un autómata de pila no determinístico.
	
	Esto es que tenemos una sucesión de configuraciones $(q_{0},w,\$) \vdash \dots \vdash (q_{2},\epsilon,\gamma)$.
	Por como es nuestro autómata tiene que existir una única transición de una configuración con estado $q_{0}$ a una configuración con estado $q_{1}$.		
	Esto nos dice que debe existir $u$ prefijo de $w$, $v$ sufijo de $w$ y $c \in \Sigma \cup \{ \epsilon \}$ tal que $w = ucv$ y cumple que usando la definición de las transiciones del caso $I$ que:
	\[
		(q_{0}, ucv, \$) \vdash^{*} (q_{0}, cv, u^R \$) \vdash (q_{1}, v, u^R \$).
	\]
	
	Por el caso $IV$ la única manera de transicionar del estado $q_{1}$ al estado $q_{2}$ es que el tope de la pila sea exactamente $ \$ $. 
	Por como son las transiciones del caso $III$ tenemos que la palabra en la pila en cada derivación de una configuración con estado $q_{1}$ se achica. 
	A su vez tendríamos que haber leído todo el sufijo $v$ y éste debería haber coincidido con $u^R$. 
	Esto nos dice que: 
	\[
		(q_{1}, v, u^R\$) \vdash^* (q_{1},\epsilon, \$).
	\]
	De esta manera obtuvimos que $w = ucu^R$ para $u \in \Sigma^*$ y $c \in \Sigma \cup \{\epsilon\}$ y así probamos que $w$ es un palíndromo por lo que $w \in L_{\text{PAL}}$ tal como queríamos ver.
	
\end{proof}


Hasta ahora definimos los autómatas de pila no determinísticos que aceptan por estado final. Otra definición posible de lenguaje aceptado podría ser que acepten por pila vacía. 
Es decir que una vez que consumimos la palabra $w$ de entrada llegamos a una configuración $(q, \epsilon, \epsilon)$ donde $\epsilon$ es la palabra vacía de ambos alfabetos respectivamente. Formalmente dado un autómata de pila $\cal M$  notaremos al \emph{lenguaje aceptado por pila vacía} de la siguiente manera
\begin{equation*}
	N({\cal M}) = \{ w \in \Sigma^* \ | \ (q_0,w,\$) \vdash^* (q, \epsilon, \epsilon), \ q \in Q, u \in \Sigma^*    \}
\end{equation*}
donde arrancamos en el estado inicial y llegamos a algún estado $q$ cualquiera sin importar que sea final o no.
Dicho de otra manera la configuración final para el lenguaje aceptado por pila vacía de un \APND es una configuración de la pinta $(q, \epsilon, \epsilon)$.
Así tenemos que la diferencia entre el lenguaje aceptado por estado final o por pila vacía radica en las configuraciones que tomamos para que sean finales. 


El siguiente resultado nos dice que en el caso que nuestro autómata sea no determinístico es equivalente usar una u otra manera de definir a nuestro lenguaje.

\medskip
\begin{teo}
	Un lenguaje $L$ es aceptado por un autómata de pila no determinístico por estado final si y solo sí es aceptado por un autómata de pila no determinístico por pila vacía.
\end{teo}

\begin{proof}
	%Demo bastante fácil si se hacen los dibujitos. Quizá ni haga falta escribirla.
	Ver \cite[237-238, 240-241]{hopcraft-ullman}.
\end{proof}

De esta manera no es ambiguo referirnos a los lenguajes aceptados por un \APND donde resulta indistinto si son aceptados por estado final o por pila vacía.
Así como existe una equivalencia de los lenguajes regulares con los lenguajes aceptados por autómatas finitos no determinísticos tenemos una equivalencia en el marco de los lenguajes independientes de contexto.

\medskip

\begin{teo}\label{teo_ic_apnd}
	Un lenguaje $L$ es independiente de contexto si y solo si es aceptado por un autómata de pila no determinístico.
\end{teo}

\begin{proof}
	Ver \cite[pp. 245-246, 248-250]{hopcraft-ullman}.
\end{proof}


\subsection{Autómatas de pila determinísticos.} 
\begin{deff}
	Un \emph{autómata de pila determinístico} es un automáta de pila 
	\[
	{\cal M } = (Q, \Sigma, \Gamma, \delta, q_0, F, \$)
	\]
	definido idénticamente a un \APND \ref{deff_apnd} con la salvedad que la función de transición tiene la siguiente restricción:
	\begin{align*}
		&\forall z \in \Gamma, \ q \in Q, \ a \in \Sigma \cup \{ \epsilon \}, \ \ \  |\delta(q,a, z)| \le 1   \\
		&\forall z \in \Gamma, \ q \in Q, \ a \in \Sigma, \ \ \ 
		\delta(q,\epsilon,z) \neq \emptyset \implies \delta(q,a,z) = \emptyset
	\end{align*}
	
	
\end{deff}

\begin{obs}
	Todo \APD en particular es un autómata de pila no determinístico. 
\end{obs}

Esto nos dice que todas las definiciones que dimos para \APND siguen siendo válidas en este contexto.
Una diferencia importante es que si ${\cal M }$ es un \APD entonces dada una palabra $w \in \Sigma^*$ existe una única manera de consumir a la palabra $w$.
A los lenguajes $L$ tales que son aceptados por un \APD los llamaremos \emph{lenguajes independientes de contexto determinísticos}.


%
%\begin{teo}
%	Existen lenguajes $L, L'$ independientes de contexto tales que:
%	\begin{itemize}
%		\item Existe $\cal M$ \APD de manera que $L = L(\cal M)$ pero no existe ningún $\cal N$ \APD tal que $L = N(\cal N)$.
%		\item Existe $\cal M$ \APD de manera que $L' = N(\cal M)$ pero no existe ningún $\cal N$ \APD tal que $L' = L(\cal N)$.
%	\end{itemize} 
%\end{teo}
%\begin{proof}
%	\cite{sipser13}.
%\end{proof}

\begin{lema}\label{lema_configuracion_prefijo}
	Sea ${\cal M} = (Q, \Sigma, \Gamma, \delta, q_0, F, \$)$ un autómata de pila determinístico.
	Sean $u, v \in \Sigma^*$ tales que $v \neq \epsilon$, $\gamma \in \Gamma^*$ y $p,q \in Q$.
	Si
	\[
		(q_{0},uv, \$) \vdash^* (q,\epsilon, \gamma),
	\]
	entonces no puede valer que 
	\[
		(q_{0},u, \$) \vdash^* (p, \epsilon, \epsilon).
	\]
\end{lema}
\begin{proof}
	Supongamos que $(q_{0},w_{1}, \$) \vdash^* (p, \epsilon, \epsilon)$.
	Como $\cal M$ es una \APD entonces para toda configuración $(q_{0}, uv, \$)$ existe una única manera de consumirla.
	Esto quiere decir que 
	\[
		(q_{0},uv, \$) \vdash^* (p,v, \epsilon) \vdash^* (q,\epsilon, \gamma).
	\]
	Pero esto es una contradicción porque $(p, v, \epsilon)$ es una configuración final por lo tanto no existe ninguna otra configuración que derive de ella.
\end{proof}

Informalmente el lema dice que si un \APD $\cal M$ puede consumir una palabra $w$ entonces todos los prefijos pueden ser consumidos y terminan en una configuración donde la pila no está vacía.

Ahora probemos que no todo lenguaje aceptado por estado final por un \APND puede ser aceptado por estado final por un autómata de pila determinístico.
El mismo ejemplo del lenguaje de los palíndromos nos sirve como contraejemplo.
\begin{prop}
	Existe un lenguaje $L$ tal que es aceptado por un \APND pero no es aceptado por ningún autómata de pila determinístico por estado final.
\end{prop}

\begin{proof}
	Consideramos el lenguaje $L_{\text{PAL}}$.
	Por la proposición \ref{ej_apnd_palindromos} vimos que es aceptado por un \APND entonces nos alcanza con probar que no existe ningún $\cal M$ \APD que lo acepta por estado final.
	
	Supongamos que ${\cal {M}} = (Q, \{ a, b \}, \Gamma, \delta, q_0, F, \$)$ es un \APD que lo acepta. 
	Sea $w \in \{ a,b \}^*$ arbitraria y distinta de $\epsilon$ entonces $w$ es el prefijo de $u = ww^R$ tal que $u \in L_{\text{PAL}}$.
	Entonces por el lema \ref{lema_configuracion_prefijo} debe ser que
	\[
	(q_{0},w,\$) \overset{*}{\vdash} (q, \epsilon, \gamma)
	\]
	donde $\gamma \in \Gamma^*$ es tal que $\gamma \neq \epsilon$.
	
	
	Fijamos una palabra arbitraria $w \in \{ a,b \}^*$ y para cada $x \in \{ a,b \}^*$ consideramos $\gamma \in \Gamma^*$ definida como
	\[
		(q_{0}, wx, \$) \vdash^* (q,\epsilon,\gamma)
	\]
	donde $q \in Q$. 
	Es decir $\gamma$ es la palabra que nos queda en la pila al consumir $wx$.
	Sea $x_{w} \in \{ a, b\}^*$ de manera que si
	$(q_{0}, wx_{w}, \$) \overset{*}{\vdash} (q, \epsilon, \gamma_{w})$ entonces $|\gamma_{w}|$ es minimal.
	Si consideramos palabras del estilo $wx_wz \in \{a,b\}^*$ para $z \in \Gamma$ entonces sabemos que la longitud de lo que quede en la pila no puede disminuir, esto es que si $(q_{0}, wx_{w}z, \$) \overset{*}{\vdash} (q, \epsilon, \gamma)$ entonces $|\gamma| \ge |\gamma_{w}|$.
	
	Nuestro \APD $\cal M$ tiene finitos estados y un alfabeto de pila finito por lo tanto existen finitos pares de estados y topes de pilas a los que puede llegar este \APD después de consumir una palabra.
	Esto nos dice que deben existir al menos dos palabras distintas $w, u \in \{ a, b\}^*$ tales que:
	\begin{align*}
		(q_{0}, wx_{w}, \$) & \overset{*}{\vdash} (q, \epsilon, \gamma_{w}) \\
		(q_{0}, ux_{u}, \$) & \overset{*}{\vdash} (q, \epsilon, \gamma_{u})
	\end{align*}
	que cumplan que caen en el mismo estado y tienen el mismo tope de pila, esto es que existe $z \in \Gamma$ tal que $\gamma_{u} = z \gamma$ y $\gamma_{w} = z \gamma'$ para $\gamma, \gamma' \in \Gamma^{*}$.
	
	
	Vamos a elegir $v \in \{ a,b\}^*$ de manera que si $s = wx_{w}$ y $t = ux_{u}$ entonces $sv \in L(\cal M)$ y $tv \in L(\cal M)$ pero
	tal que $sv \notin L_{\text{PAL}}$ o $tv \notin L_{\text{PAL}}$.
	Procedemos separando en casos dependiendo de las longitudes de $s$ y de $t$.
	\begin{itemize}
		\item Si $|t|=|s|$ basta con tomar $v=s^R$. 
		Entonces $tv \in L({\cal M})$ pero $tv \notin L_{\text{PAL}}$.
		
		\item Si $|t|\neq |s|$ supongamos que $|s| < |t|$ y que $s$ no es prefijo de $t$ entonces  podemos tomar $v = s^R$ de manera que $sv \in L_{\text{PAL}}$ mientras que $tv \in L(\cal M)$ pero $tv \notin L_{\text{PAL}}$.
		
		\item Si $|t|\neq |s|$ y una es prefijo de la otra. 
		Sin pérdida de generalidad supongamos que $t=sy$ donde $y \in \{a,b\}^*$ tal que $|y| \ge 1$ y que $y = ay'$ con $y' \in \{a,b\}^*$ entonces $yb \notin L_{\text{PAL}}$.  
		De esta manera tenemos que si $v=bs^R$ entonces $sv \in L$ mientras que $tv \in L(\cal M)$ pero $tv \notin L_{\text{PAL}}$.		
	\end{itemize}
	
	Con esto probamos que no puede existir ningún autómata $\cal M$ tal que $L_{\text{PAL}} = L(\cal M)$ porque si $L_{\text{PAL}} \subseteq L(\cal M)$ entonces existen $w \in L(\cal M)$ tales que $w \notin L_{\text{PAL}}$.
	Por el ejemplo \label{ej_ic_palindromos} tenemos que $L_{\text{PAL}}$ es aceptado por un \APND y así vimos que no todo lenguaje que es aceptado por un \APND es aceptado por un autómata de pila determinístico.
	
\end{proof}

%Una diferencia importante del caso de los autómatas de pila determinísticos del caso no determinístico es que no todo lenguaje que es aceptado por pila vacía es aceptado por estado final.
%
%Primero veamos una propiedad necesaria para que un lenguaje sea aceptado por un autómata determinístico por pila vacía. 

Dado $A$ un conjunto definimos $A^{+} = A^{*} \setminus \{ \epsilon \}$.

\begin{deff}
	Sea ${\cal {M}} = (Q,\Sigma, \Gamma, \delta, q_0, F, \$)$ un autómata de pila determinístico. 
	Consideremos el siguiente lenguaje
	\[
		L({\cal M}, \gamma) = \{ w \in \Sigma^{*} \mid (q_{0},w,\$) \overset{*}{\vdash} (q, \epsilon, \gamma), \ q \in F  \}
	\]
	tal que lo llamaremos el lenguaje aceptado por estado final y palabra $\gamma \in \Gamma^{+}$ en la pila.
	Si $L = L({\cal M}, \gamma)$ para cierto $\cal M$ \APD entonces diremos que $L$ es un \emph{lenguaje \ic determinístico especial}. 
\end{deff}

En nuestro caso en particular nos va a interesar más que nada el caso que $\gamma = \$$, es decir el símbolo inicial de la pila.
Primero debemos ver que esta familia de lenguajes son \ic determinísticos.


\begin{prop}
	Todo lenguaje $L$ \ic determinístico especial es \ic determinístico.
\end{prop}
\begin{proof}
	Como $L$ es un lenguaje \ic determinístico especial entonces existe ${\cal M} = (Q,\Sigma, \Gamma, \delta, q_0, F, \$)$ \APD y $\gamma \in \Gamma^{+}$ tal que $L({\cal M}, \gamma) = L$.
	Sea $n = |\gamma|$ de manera que $\gamma = \gamma_{n-1} \dots \gamma_{0}$.
	Vamos a construir un automata de pila determinístico $\cal{M'}$ tal que $L({\cal{M}}') = L({\cal{M}},\gamma)$.
	Sea
	$c = 1$ si $\gamma = \$$ y $c = 0$ en caso contrario,
	$A = \{0, 1, \dots n, \bot\}$,
	$Q' = Q \times \{0,1\}$,
	$\Gamma' = \Gamma \times A$,
	$q_{0}' = (q_{0},c)$ y
	$F' = F \times {1}$.

	Queremos definir 
	$\delta' : Q' \times (\Sigma \cup \{\epsilon\}) \times \Gamma' \to {\cal P}( Q' \times {\Gamma'}^{*} )$.
	Sea $((q,i), a, (z,j)) \in Q' \times (\Sigma \cup \{ \epsilon \}) \times \Gamma'$. 
	Vamos a definir $\delta'((q,i), a, (z,j))$ separando en casos dependiendo como es $\delta(q,a,z)$.

	\begin{enumerate}
		\item Si $\delta(q,a,z) = \emptyset$, entonces definimos $\delta'( (q,i), a, (z,j) ) = \emptyset$.

		\item Si $\delta(q,a,z) = \{ (p, \epsilon) \}$ definimos $i' = 1$ si $j = n$ e $i' = 0$ en caso contrario. 
		Entonces definimos $\delta((q,i), a, (z,j)) = \{ (p,i'),\epsilon \}$.

		\item Si $\delta(q,a,z) = \{(p,\beta)\}$, con $\beta = \beta_k \dots \beta_1 \beta_0$, vamos a definir recursivamente una sucesión $s_0, s_1, \dots s_k \in A$ de la siguiente manera para $l \in \{0 \dots k\}$.
		\begin{align*}
			s_0 &= j,  \\
			s_{l+1} &= s_{l}+1 \ \text{si} \ s_l \neq \bot,  \ s_{l}+1 \le n \ \text{y} \ \beta_l = \gamma_{j+l}, \\
			s_{l+1} &= \bot \ \text{en caso contrario}. \\
		\end{align*}
		Definimos $\beta' = (\beta_k, s_k)\dots(\beta_1,s_1)(\beta_0,s_0)$ y sea $i' = 1 \ \text{si} \ s_k=n \ \text{y} \ \beta_k=\gamma_{n-1}$, y $0$ en caso contrario.
		Finalmente definimos $\delta'((q,i), a, (z,j)) = {((p,i'),\beta')}$.
	\end{enumerate}

	Sea ${\cal{M'}} = (Q', \Sigma, \Gamma', \delta', (q_{0},c), F', (\$,0))$.
	Por como lo definimos es un autómata de pila determinístico.
	Probemos ahora que $L({\cal M}') = L({\cal M}, \gamma)$.
	Para esto vamos a probar la siguiente afirmación:

	\begin{aff}
		Si $w,u \in \Sigma^{*}$ y 	 
	\[
		(q_{0}, w, \$) \overset{*}{\vdash} (q, u, \beta_k ... \beta_0)
	\]
		\quad \quad entonces
	\[
		((q_0,c), w, (\$,0)) \overset{*}{\vdash} ((q,i), u, (\beta_k, t_k)\dots (\beta_0,t_0)).
	\] 

	Donde $t_0 = 0$ y 
	$t_j = j \ \text{si} \ j \le n, \ \ \beta_{j-1}...\beta_0 = \gamma_{j-1}... .\gamma_0,$ y $t_{j} = \bot$ en caso contrario y donde $i = 1$ si $t_{k} = n-1$ y $\beta_{k} = \gamma_{n-1}$ e $i=0$ en caso contrario.
	\end{aff}	
	


	Para probar esto recordamos que
	\[
		\overset{*}{\vdash} \ = \underset{l \in \NN}{\bigcup} \overset{l}{\vdash}.
	\]
	Entonces nos alcanza con probarlo por inducción en $l \in \NN$ de manera que $(q_{0}, w, \$) \overset{l}{\vdash} (q, u, \beta_k ... \beta_0)$.

	Para el caso base sea $l = 0$ entonces 
	$((q_{0},c), w, (\$,0)) \overset{0}{\vdash} ((q_{0},c), w, (\$,0))$ 
	y en este caso cumple con lo pedido.

	Para el paso inductivo sabemos que si $(q_{0}, w, \$) \overset{l-1}{\vdash} (q, u, \beta_k ... \beta_0)$ entonces
	\[
		((q_0,c), w, (\$,0)) \overset{*}{\vdash} ((q,i), u, (\beta_k, t_k)\dots (\beta_0,t_0))	
	\]
	tal que $t_{0}, \dots t_{k}$ e $i$ cumplen las condiciones que aparecen en la afirmación.
	Entonces si
	\[
		(q_{0}, w, \$) \overset{l-1}{\vdash} (q, u, \beta_k ... \beta_0) \vdash (p,u',\alpha_{m} \dots \alpha_{0}\beta_{k-1} \dots \beta_{0})	
	\]
	notemos que por la definición del \APD ${\cal M}$ que $u = a u'$ con $a \in \Sigma \cup \{\epsilon\}$ y que $\delta(q,a,\beta_{k}) = \{ (p, \alpha_{m} \dots \alpha_{0}) \}$.
	Usando la definición del \APD $\cal M'$ vemos que
	\[
		\delta((q,i),a,(\beta_{k},t_{k})) = \{ (p,i'), (\alpha_{m},s_{m})\dots (\alpha_{0},s_{0}) \}	
	\]
	definida de manera tal que para todo $l \in \{ 0, \dots m \}$ vale que: $s_{0} = t_{k}$,
	$s_{l+1} = s_{l} + 1$ si $s_{l}+1 \le n, s_{l} \neq \bot$ y $\alpha_{l} = \gamma_{k+l}$ e
	$i' = 1 \ \text{si} \ s_k=n \ \text{y} \ \alpha_m=\gamma_{n-1}$. 
	De esta manera obtenemos que si renombramos a $t_{l+k} = s_{l}$ para todo $l \in \{ 0, \dots m \}$ luego vale que
	\[
		((q_0,c), w, (\$,0))  \overset{*}{\vdash} ((q,i), u, (\beta_k, t_k)\dots (\beta_0,t_0))	\vdash 	((p,i'),u',(\alpha_{m}, t_{m+k}) \dots (\alpha_{0}, t_{k}) (\beta_{k-1}, t_{k-1}) \dots (\beta_{0}, t_{0}))
	\]
	de manera tal que se cumplen las condiciones que aparecen en la afirmación. 
	\smallskip

	Si $w \in L({\cal M}, \gamma)$ entonces
	\[
		(q_{0}, w, \$) \overset{*}{\vdash} (q, \epsilon, \gamma_{n-1} \dots \gamma_0) 
	\] 
	donde $q \in F$.
	Por la afirmación obtenemos que $((q_0,0), w, (\$,0)) \overset{*}{\vdash} ((q,1), \epsilon, (\gamma_{n-1}, n-1)\dots (\gamma_0,0))$ y así vemos que $w \in L({\cal M}')$.

	Si $w \notin L({\cal M}, \gamma)$ entonces $(q_{0}, w, \$) \overset{*}{\vdash} (q, u, \beta_k \dots \beta_0)$ donde $(q, u, \beta_k \dots \beta_0)$ es una configuración irreducible.
	Necesariamente una de estas tres opciones ocurren: 
	$u \neq \epsilon$, $q \notin F$ o $\beta_{k} \dots \beta_{0} \neq \gamma_{n-1} \dots \gamma_{0}$.

	Si $u \neq \epsilon$ entonces $u = au'$ con 
	$a \in \Sigma \cup \{ \epsilon \}, u \in \Sigma^{*}$. 
	Dado que $(q, au', \beta_k \dots \beta_0)$ es irreducible esto dice que $\delta(q,a,\beta_{k}) = \emptyset$.
	Entonces por la afirmación 
	$((q_0,c), w, (\$,0)) \overset{*}{\vdash} ((q,i), u, (\beta_k, t_k)\dots (\beta_0,t_0))$ y luego por la definición de $\delta'$ obtenemos que $((q,i), u, (\beta_k, t_k)\dots (\beta_0,t_0))$ también es irreducible por lo tanto $w \notin L({\cal M}')$.

	Si $q \notin F$ entonces por la afirmación $((q_0,c), w, (\$,0)) \overset{*}{\vdash} ((q,i), \epsilon, (\beta_k, t_k)\dots (\beta_0,t_0))$ donde $(q,i) \in Q \setminus F \times \{ 0,1 \}$ lo que implica que $(q,i) \notin F'$ por lo tanto $w \notin L({\cal M}')$.

	Si $\beta_{k} \dots \beta_{0} \neq \gamma_{n-1} \dots \gamma_{0}$ entonces por la afirmación $((q_0,c), w, (\$,0)) \overset{*}{\vdash} ((q,i), \epsilon, (\beta_k, t_k)\dots (\beta_0,t_0))$ donde necesariamente sucede uno de estos dos subcasos: si $|\gamma| = |\beta|$ entonces 
	existe $j \in \{ 0, \dots n-1 \}$ de manera que $\beta_j \neq \gamma_{j}$
	o bien $|\beta| \neq |\gamma|$.
	En ambos subcasos obtenemos que $t_{k} \neq n-1$ luego 
	$i \neq 1$ por lo tanto $w \notin L({\cal M}')$.

	% En estos tres casos podemos ver que esto implica que $w \notin L({\cal M}')$. 
	

	De esta manera concluimos que $L({\cal M}, \gamma) = L(\cal M ')$.
	
	% Construimos $\cal M'$ un \APD que lo acepte por estado final.
	% Para eso definimos ${\cal M}' = (Q',\Sigma, \Gamma', \delta', (q_0,0), F', (\$,1))$
	% donde $Q' = Q \times \{ 0,1\}$, $\Gamma' = \Gamma \times \{ \bot ,1, \dots, |\gamma|  \}$, $q'_{0} = (q_{0, 0})$,$F = \{ (q,1) \mid q \in F \}$ y la función de transición la definimos de la siguiente manera si $\delta(q,a,Z) = (p, \theta)$ y $\theta = \theta_{1}\dots \theta_{k}$ entonces si usamos la convención que $l = \bot$ si $l>|\gamma|$ luego

	
	% \[
	% \delta'((q,i),a,(z,j)) = \left\{\begin{array}{lr}
	% 	((p,1), (\theta_{1},j+k)\dots(\theta_{k},j)) , & \text{si } j+k = n\\
	% 	((p,0), (\theta_{1},j+k)\dots(\theta_{k},j)) , & \text{si } j+k \neq |\gamma| \\
	% \end{array}\right\}
	% \]
	% Este automáta es determinístico y de su definición se sigue que vale la siguiente equivalencia:
	% \[
	% 	(q, w, \theta) \overset{*}{\vdash} (p,u,\phi) \iff 
	% 	((q,i), w, (\theta_{1}, |\theta|)\dots (\theta_{|\theta|}, 1)) \overset{*}{\vdash} ((p,j),u,(\phi_{1},|\phi|) \dots (\phi_{|\phi|}, 1)). 
	% \]
	% donde $j = 1$ si $|\phi| =|\gamma|$ e $i = 1$ si $|\theta| = |\gamma|$.
	
	
	% Con esto podemos probar que $L ({\cal M}, \gamma) = L(\cal M')$.
	% Para esto usamos que si $(q_{0},w, \$) \overset{*}{\vdash} (q,\epsilon, \gamma)$ entonces esto sucede si y solo sí
	% $((q_{0},0), w, (\$,1)) \overset{*}{\vdash} 
	% ((q,1), \epsilon, (\gamma_1,|\gamma|) \dots (\gamma_{|\gamma|}, 1))$ lo que dice que $w \in L(\cal M')$ si y solo sí $w \in L({\cal M}, \gamma)$.
	
	% Con esto concluimos que $\cal M'$ acepta a $L({\cal M}, \gamma)$ y así que los lenguajes \ic determinísticos especiales resultan ser \ic determinísticos.
	
	
\end{proof}




Ahora probemos que la familia de los lenguajes \ic determinísticos especiales están contenidos estrictamente en la familia de los lenguajes \ic determinísticos.

\begin{prop}
	Existen lenguajes \ic determinísticos que no son \ic determinísticos especiales.
\end{prop}

\begin{proof}
		Consideremos el lenguaje $L = \{ a^m b^n  : m \ge n \ge 1 \}$.
		
		Primero veamos que es aceptado por el siguiente \APD por estado final:
		\[
		{\cal M} = (\{q_0,q_1\},\{a,b\},  \{a,b,\$\}, \delta, \{q_0\}, \{q_1\}, \$).
		\] 
		Introducimos la siguiente notación estándar para representar la función de transición en un gráfico:
		Si tenemos una flecha de un estado $q \in Q$ a otro estado $p \in Q$ tal que tiene como etiqueta $b, a | \gamma$
		entonces esto quiere decir que $\delta(q,b,a) = (p,\gamma)$.
		
		Entonces podemos representar gráficamente al \APD de la siguiente manera, donde usamos que $Z \in \{a,b,\$\}$ es cualquier letra del alfabeto de la pila,	
		\begin{center}
				\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=3.5cm,
						scale = 1,transform shape]
						
						\node[state,initial] (q_0) {$q_0$};
						\node[state, accepting] (q_1) [right of=q_0] {$q_1$};
						
						\path (q_0) edge    [bend right]          node {$b, a | \epsilon$ \ } (q_1)
						(q_0) edge    [loop above]          node {$a, Z | aZ$} (q_0)
						(q_1) edge    [loop above]           node {$b, a | \epsilon$} (q_1);
						
					\end{tikzpicture}
			\end{center}
		Notemos que es determinístico por la construcción que hicimos.
		Veamos que $L = L(\cal M)$.
		
		Primero probamos que $L \subseteq L(\cal M)$.
		Sea $w \in L$ luego notemos que podemos consumir a la palabra $w = a^mb^n$ de la siguiente manera:
		\[
			(q_{0},a^mb^n,\$) \overset{*}{\vdash} (q_{0},b^n,a^m\$) \vdash (q_{1},b^{n-1},a^{m-1}\$) \overset{*}{\vdash} (q_{1},\epsilon,a^{m-n}\$).
		\]
		
		En el caso que $w \in L(\cal M)$ notemos que necesariamente para ser aceptada al consumirla tiene que llegar al estado $q_{1}$.
		Esto nos dice que $w = a^m b u$ donde $m \ge 1$, $u \in \Sigma^*$ caso contrario no tendríamos que $(q_{0},w,\$) \overset{*}{\vdash} (q_{1},u,a^{m-1}\$)$.
		Para que la palabra sea consumida tiene que valer que $u = b^{n}$ con $n \le m-1$.
		Con esto vimos que $w \in L$ tal como queríamos ver. 
		
		
		
%		
%		
%		Para esto notemos que si $w \in L(\cal M)$ entonces si
%		$a^mbw' = w$ y $m \ge 0$ luego
%		\[
%		(q_{0},w,\$) \overset{*}{\vdash} (q_{0},bw',a^m\$).
%		\]
%		
%		Para pasar al estado $q_{1}$ necesitamos leer una $b$ por lo que
%		\[
%		(q_{0},bw',a^m\$) \vdash (q_{1},w',a^{m-1}\$) \overset{*}{\vdash} (q_{2},\epsilon, a^{m-1-n}\$)
%		\]
%		donde $0 \le n \le m-1$.
%		Similarmente usando las mismas configuraciones podemos ver que si $w \in L$ entonces $w \in L(\cal M)$.
%		Con esto probamos que $L$ es aceptado por un autómata de pila determinístico.
		
		Para ver que no es aceptado por un \APD por estado final y una palabra $\gamma$ en la pila consideremos que ${\cal M} = (Q,\Sigma, \Gamma, \delta, q_0, F, \$)$ \APD y $\gamma \in \Gamma^{+}$ tal que $L({\cal M}, \gamma) = L$.
		En este caso sea $m > |Q|$ luego si consideramos las palabras de la pinta $\{ a^mb, \dots, a^mb^m  \} \subseteq L$ por el principio del palomar tienen que existir $1 \le i < j \le m$ tales que $(q_{0},a^mb^i, \$) \overset{*}{\vdash} (q,\epsilon,\gamma)$ y $(q_{0},a^mb^j, \$) \overset{*}{\vdash} (q,\epsilon,\gamma)$ para un mismo estado final $q \in F$.
		Entonces notemos que necesariamente $m - i > 0$ y que $m-i+j > m$ por lo que
		\[
			(q_{0},a^mb^{i+m-i}, \$) \overset{*}{\vdash} (p,\epsilon,\gamma)
		\]
		donde $p \in F$ es otro estado final dado que $a^mb^{i+m-i} = a^mb^m \in L$ pero esto implica que 
		\[
		(q_{0},a^mb^{j+m-i}, \$) \overset{*}{\vdash} (p,\epsilon,\gamma)
		\]
		contradiciendo que $j+m-i \le m$ y así obtuvimos una contradicción que vino de suponer que el lenguaje $L$ era aceptado por estado final y por palabra $\gamma$ en la pila.
	
\end{proof}

Dado $\Gamma$ conjunto finito y $k \in \NN$ 
definimos $\Gamma^{\le k} = \{ \gamma \in \Gamma^{*} \mid |\gamma| \le k \}$.

\begin{deff}
	Sea $k \in \NN_{\ge 1}$ luego un \emph{k-autómata de pila finito determinístico} es una tupla 
	\[
	{\cal N } = (Q, \Sigma, \Gamma, \delta, q_0, F, \$)
	\]
	donde 
	\begin{itemize}
		\item $Q$ es un conjunto finito denominado los \emph{estados};
		\item $\Sigma$ es un conjunto finito que denominamos el \emph{alfabeto del lenguaje};
		\item $\Gamma$ es un conjunto finito que denominamos el \emph{alfabeto de la pila};
		\item $\delta$ es la \emph{función de transición} donde $\delta: Q  \times (\Sigma \cup \{ \epsilon \}) \times \Gamma^{\le k} \to {\cal P}(Q \times \Gamma^*)$
		tal que para todo $q \in Q, a \in \Sigma \cup \{\epsilon\}, \gamma \in \Gamma^{\le k}$ vale que $|\delta(q,a,\gamma)| \le 1$ y que si $|\delta(q,a,\gamma)| = 1$ entonces $\delta(q,a,\beta) = \emptyset$ para toda $\beta \in \Gamma^{\le k}$ tal que $\gamma \in \text{Pre}(\beta)$;
		\item $q_0 \in Q$ es el \emph{estado inicial};
		\item $F \subseteq Q$ es el conjunto de \emph{estados finales};
		\item $\$ \in \Gamma$ es el \emph{símbolo inicial} de la pila
	\end{itemize}
\end{deff}

\smallskip
\begin{obs}
	Un \APD es un $1$-\APD bajo esta definición.
\end{obs}

Todas las definiciones que dimos para los autómatas de pila determinísticos las podemos adaptar fácilmente al caso de un k-autómata de pila determinístico.

\begin{prop}
	\label{prop:equiv_kapnd_apnd}
	Sea $L \subseteq \Sigma^{*}$ y $k \in \NN$ entonces existe $\cal M$ \APD tal que $L({\cal M}) =  L$ si y solo si existe ${\cal N}$ k-\APD tal que $L({\cal N}) = L$. 
\end{prop}
\begin{proof}
	Si existe ${\cal M} = (Q, \Sigma, \Gamma, \delta, q_0, F, \$)$ \APD tal que $L({\cal M}) = L$ luego ${\cal N} = (Q, \Sigma, \Gamma, \delta', q_0, F, \$)$ es un $k$-\APD con función de transición $\delta'(q,a,z) = \delta(q,a,z)$ para toda 
	$q \in Q, a \in \Sigma \cup \{\epsilon\}, z \in \Gamma$ y tal que $\delta(q,a,\gamma) = \emptyset$ para toda otra $\gamma \in \Gamma^{\le k}$.
	Con esta definicón vemos que $L({\cal M}) = L({\cal N})$.	
	% vamos a construir $\cal N$ un k-\APND tal que $L({\cal N}) = L$.
	% Sea ${\cal N} = (Q, \Sigma, \Gamma, \delta_{\cal N}, q_0, F, \$)$ donde  $\delta_{\cal M}(q,a,z) = (p,\gamma) \iff  \delta_{\cal N}(q,a,z\beta)  =(p, \gamma)$.
	% Por como lo definimos obtenemos que $L({\cal M}) = L({\cal N})$.
	

	Si existe ${\cal N} = (Q, \Sigma, \Gamma, \delta_{\cal N}, q_0, F, \$)$ k-\APD tal que $L({\cal N}) = L$ luego sean:
	${\cal U} = \{ \gamma \in \Gamma^{\le k} \mid \exists q \in Q, a \in \Sigma \cup \{\epsilon\}, \ |\delta(q,a,\gamma)| = 1 \}$,
	$Q' =  Q \times (\Sigma \cup \{\epsilon\}) \times \text{Pre}({\cal U})$,
	$q_{0}' = (q_{0}, \epsilon, \epsilon)$, 
	$F' = F \times \{\epsilon\} \times \{\epsilon\}$
	y $\delta': Q' \times \Sigma  \cup \{ \epsilon\} \times \Gamma \to {\cal P}(Q \times \Gamma^{*})$.
	Definimos $\delta'$ de la siguiente manera dados
	$q \in Q, a \in \Sigma \cup \{ \epsilon \}, z \in \Gamma$:
	\begin{align*}
		\delta' ((q,\epsilon,\epsilon),a,z) &= \{ ((q,a,z),\epsilon) \} 
		& \\
		\delta' ((q,a,\beta),\epsilon,z) 
		&= \{((q,a,\beta z),\epsilon)\} 
		& \text{si} \ \beta z \in \text{Pre}({\cal U}) \\
		\delta' ((q,a,\gamma),\epsilon,z) &= \{((p,\epsilon,\epsilon),\beta z)\}
		& \text{si} \  (p,\beta) \in \delta(q,a,\gamma) 
	\end{align*}
	Sea ${\cal M} = (Q', \Sigma, \Gamma, \delta', q_{0}', F', \$)$ autómata de pila tal que por como lo definimos es un autómata de pila determinístico.
	\begin{aff}
	Sean $q \in Q, a \in \Sigma \cup \{ \epsilon \}, \gamma = \gamma_{1} \dots \gamma_{i} \in \Gamma^{\le k}, w \in \Sigma^{*}$
	entonces  
	\[ 
		(q_{0},w,\$) \overset{*}{\vdash} (q,u,\beta) 
		\implies
		((q_{0},\epsilon,\epsilon), w, \$) \overset{*}{\vdash} 
		((q,\epsilon,\epsilon), u, \beta) 	
	\]	
	\end{aff}
	Dado que $\overset{*}{\vdash} \ = \underset{l \in \NN}{\bigcup} \overset{l}{\vdash}$.
	Vamos a probar esta afirmación por inducción en la longitud de la derivación $(q_{0},w,\$) \overset{l}{\vdash} (q,u,\beta)$.

	Caso base tenemos que $l=0$ y no tenemos nada para probar. 

	Para el paso inductivo tenemos que si $u = au'$ con $a \in \Sigma \cup \{ \epsilon \}$, $u' \in \Sigma^{*}$ y $\gamma = \gamma_{0}\dots \gamma_{j} \in \Gamma^{\le k}$ entonces:
	\[
		(q_{0},w,\$) \overset{l}{\vdash} (q,u, \gamma \beta) 
		\vdash (p,u',\alpha \beta)	
	\] 
	y por la hipótesis inductiva 
	$((q_{0},\epsilon,\epsilon), w, \$) \overset{*}{\vdash} 
	((q,\epsilon,\epsilon), u, \beta)$.
	Debemos ver que $((q,\epsilon,\epsilon), au', \gamma \beta) 
	\overset{*}{\vdash} ((p,\epsilon,\epsilon),u',\alpha\beta)$.
	Como $(q,u, \beta) \vdash (p,u',\alpha)$ esto quiere decir que 
	$\delta(q,a,\gamma) = (p,\alpha)$ y como $\gamma \in {\cal U}$ entonces tenemos la siguiente derivación
	\[
		((q,\epsilon,\epsilon), au', \gamma_{0} \dots \gamma_{j}\beta) \vdash ((q,a,\gamma_{0}),u',\gamma_{1} \dots \gamma_{j}\beta) \overset{*}{\vdash} ((q,a,\gamma),u',\beta) 
		\vdash 	((p,\epsilon,\epsilon),u',\alpha \beta).
	\]
	terminando así de probar la afirmación.

	Sea $w \in L({\cal N})$ luego $(q_{0},w,\$) \overset{*}{\vdash} 
	(q,\epsilon, \gamma)$ para ciertos $q \in F$ y $\gamma \in \Gamma^{*}$.
	Por la afirmación obtenemos que $((q_{0},\epsilon, \epsilon),w,\$) \overset{*}{\vdash} ((q,\epsilon,\epsilon),\epsilon,\gamma)$ por lo tanto $w \in L({\cal M})$.

	Sea $w \notin L({\cal N})$ luego $(q_{0},w,\$) \overset{*}{\vdash} 
	(q,u, \beta)$ para ciertos $q \in Q$, $\beta \in \Gamma^{*}$ y $u \in \Sigma^{*}$ tal que $(q,u, \beta)$ es una configuración irreducible tal que cumple alguna de las siguientes dos condiciones: 
	$u \neq \epsilon$ o $q \notin F$.
	Por la afirmación obtenemos que $((q_{0},\epsilon, \epsilon),w,\$) \overset{*}{\vdash} ((q,\epsilon,\epsilon),u,\beta)$.


	Si $u \neq \epsilon$ entonces tenemos que 
	$u = a u'$ con $a \in \Sigma \cup \{ \epsilon	\}$, $u' \in \Sigma^{*}$ 
	por lo tanto $\delta(q,a,\gamma) = \emptyset$ para toda $\gamma \in \text{Pre}(\beta)$ por lo tanto si $\beta = z \beta'$ con $z \in \Gamma, \beta' \in \Gamma^{*}$ entonces $\delta'(q,a,z) = \emptyset$.
	Así $w \notin L({\cal M})$.
	Si $q \notin F$ entonces $(q,\epsilon,\epsilon) \notin F'$ y así $w \notin L({\cal M})$.

	Concluimos que $L({\cal M}) = L({\cal N})$ tal como queríamos ver.
\end{proof}

\begin{coro}
	\label{coro:equiv_kapnd_apnd_esp}
	Sea $L \subseteq \Sigma^{*}$ y $k \in \NN$ entonces existe 
	${\cal M } = (Q, \Sigma, \Gamma, \delta, q_0, F, \$)$ 
	\APD y $\gamma \in \Gamma^{+}$ tal que $L({\cal M}, \gamma) =  L$ 
	si y solo si existe ${\cal N} = (Q', \Sigma, \Gamma, \delta', q_0', F', \$)$ k-\APD tal que $L({\cal N},\gamma) = L$.
\end{coro}
\begin{proof}
	La misma construcción de la proposición \ref{prop:equiv_kapnd_apnd} nos sirve.
\end{proof}


\section{Teoría de grupos.}\label{secc_teo_grp}

Enunciamos y damos definiciones estándares de la teoría de grupos que usaremos en este trabajo.


\begin{deff}
	Dado un conjunto $A$ podemos definir a $F_{A}$ el \emph{grupo libre} generado por los elementos de $A$ como un grupo que tiene una función  $\iota: A \to F_{A}$ que denominamos la inclusión de los generadores en el grupo libre y que está definido por la siguiente propiedad universal: 
	Para todo grupo $H$ y toda función $f:A \to H$ existe un único morfismo de grupos $\ol f: F_{A} \to H$ tal que $\ol f \circ \iota = f$.
	Equivalentemente el siguiente diagrama conmuta,
	\begin{center}
		\begin{tikzcd}
			F_{A}  \arrow[rr, "\ol f", dashed]          &  & H \\
			&  &   \\
			A \arrow[uu, "\iota"] \arrow[rruu, "f", swap] &  &  
		\end{tikzcd}
	\end{center}
	
\end{deff}

\begin{obs}
	Una observación que se desprende de la definición de un grupo libre es que si tenemos dos conjuntos $A, A'$ tales que $|A| = |A'|$ luego $F_{A} \simeq F_{A'}$.
	En particular si $|A|=k < \infty$ tenemos que $F_{A} \simeq F_{ \{1, \dots, k \} }$.
	Introduciremos la notación $F_{k}$ para referirnos a un grupo libre generado por algún conjunto $A$ tal que $|A| = k$.
\end{obs}

Todo grupo en particular es un monoide.
En el caso que $F_{A}$ es un grupo libre si miramos el \emph{conjunto simétrico de generadores} $B = A \cup A^{-1}$ donde $A^{-1} = \{ a^{-1} : a \in A \}$ luego tenemos que el grupo libre $F_{A}$ es un cociente del monoide libre $B^*$.
Esto es porque $F_{A} \simeq B^{*} / \{ aa^{-1} : a \in A \}$.
Sea $\pi: B^{*} \to F_{A}$ el epimorfismo de monoides al cociente.


\begin{deff}
	Dado un grupo libre $F_{A}$ y sea $B$ el conjunto simétrico de generadores de $A$, luego una \emph{palabra reducida} es una palabra $w = a_{0} \dots a_{n} \in B^{*}$ tal que no existe ningún $0 \le i < n$ de manera que $a_{i+1}=a_{i}^{-1}$.
\end{deff}


\begin{obs}\label{obs_libres_pal_red}
	Dado un grupo $F_{A}$ libre si $\pi:B^* \to F_{A}$ entonces una palabra reducida y no vacía $w \in B^*$  es tal que $\pi(w) \neq 1$.
\end{obs}

Una vez definidos los grupos libres podemos hablar de grupos infinitos finitamente generados que van a ser la familia de grupos que mayoritariamente trataremos en este trabajo.


\begin{deff}
	Un grupo $G$ es \emph{finitamente generado} si existe un conjunto finito $A$ junto con un epimorfismo de grupos $\pi: F_{A} \twoheadrightarrow G$.
	En este caso al conjunto $A$ lo llamaremos los \emph{generadores} de $G$.
\end{deff}

Por lo visto anteriormente tenemos que si $G$ es finitamente generado por $A$ luego, si $B = A \cup A^{-1}$, 
tenemos un epimorfismo de monoides $\pi:B^* \twoheadrightarrow G$.
Similarmente si $w \in B^*$ es tal que $\pi(w) = g$ entonces lo denotaremos $w \overset{G}{=} g$.

\medskip



Dado $X$ conjunto una \emph{acción} de $G$ en $X$ es un morfismo de grupos $\alpha: G \to S(X)$.
En este trabajo introduciremos varias acciones de grupos sobre distintos objetos: grafos no dirigidos, grafos dirigidos y cortes óptimos de grafos. 
Estas definiciones aparecen en cada contexto en específico pero siempre cumplen que una acción de $G$ en algún objeto $S$ se corresponde con un morfismo de grupos $\rho:G \to \text{Aut}(S)$ para la noción correspondiente de automorfismos para el objeto $S$.

	
Dado $H$ subgrupo de $G$ podemos definir la \emph{acción por multiplicación a izquierda} sobre $G$ como $\alpha: H \to S(G)$ definida por $\alpha(h)(g) = hg$.
En este caso el cociente por esta acción lo vamos a denotar $H \backslash G $.
Análogamente podemos definir una \emph{acción por multiplicación a derecha} $\beta:H^{op} \to S(G)$ definida como $\beta(h)(g) = gh$.
Al cociente de esta acción lo vamos a denotar $G/H$.
Si bien ambas acciones a izquierda o a derecha casi siempre son distintas en nuestro caso no va a ser necesario hacer la distinción entre la acción a izquierda y a derecha salvo para algunos resultado del capítulo \ref{cap_BS}.
Si no hay motivo para confusión alguno utilizaremos $G/H$ para referirnos al cociente de $G$ por $H$ indistintamente.






A los elementos de $G/H$ los llamaremos \emph{cosets a izquierda} y los denotaremos $gH$ mientras que a los de $H \backslash G$ los llamaremos \emph{cosets a derecha} y los denotaremos $Hg$.
Dado $G$ grupo y $H$ subgrupo el \emph{índice} de $H$ en $G$ es el número de cosets a izquierda de $H$ en $G$ (o a derecha) y lo denotaremos $[G:H]$.


Ya podemos definir la familia de grupos con la que trabajaremos en este trabajo.

\begin{deff}
	Un grupo $G$ es \emph{virtualmente libre} si es finitamente generado y si
	tiene un subgrupo libre $F$ tal que $[G:F] < \infty$.
	Un grupo $G$ es \emph{virtualmente $\ZZ$} si es un \fg y si tiene un subgrupo $F \simeq \ZZ$ tal que $[G:F] < \infty$. 
\end{deff}

Notemos en particular que un grupo virtualmente libre cumple que es finitamente generado bajo nuestra definición.


\begin{ej}
	Veamos algunos ejemplos elementales de grupos que son de esta familia y algunos que no lo sean.
	
	\begin{enumerate}	
		\item 
		Cualquier extensión de un grupo libre por un grupo finito es un grupo virtualmente libre,
		\[
		1 \to F \to G \to K \to 1
		\]
		donde $K$ es un grupo finito y $F$ es un grupo libre finitamente generado.
		En particular esta familia de ejemplos incluye los productos directos $G= F \times K$ y semidirectos $G = F \rtimes K$.
		
		
		\item Uno de los ejemplos más elementales de un grupo que no es \vl \ es $\ZZ \times \ZZ$.
		La primera observación es que al ser abeliano si tiene un subgrupo libre necesariamente tiene que ser isomorfo a $\ZZ$ porque este es el único grupo libre abeliano.
		
		Nos alcanza con ver que no es virtualmente $\ZZ$.
		Vamos a probarlo por reducción al absurdo. 
		Sea entonces $F$ un subgrupo que es isomorfo a $\ZZ$.
		Sea $(n,m) \in \ZZ \times \ZZ$ el generador de $F$.
		Probaremos que $\ZZ \times \ZZ / F$ tiene orden infinito.
		Para eso consideraremos $(p,q) \in \ZZ \times \ZZ$	tal que $p,q$ son primos distintos y ambos coprimos con $m$ y con $n$.
		Veamos que $[(p,q)] \in \ZZ \times \ZZ / F$ tiene orden infinito.
		Si no lo fuera deberían existir $\alpha, \beta \in \ZZ$ de manera que 
		\begin{align*}
			\alpha (p,q) = \beta(n,m) 
		\end{align*}
		
		como todos son coprimos entre sí esto nos dice que $p \mid \beta$ y similarmente que $q \mid \beta$, por lo que tenemos que $q \mid \alpha$ y $p \mid \alpha$.
		Esto nos dice que se pueden escribir de esta manera
		\begin{align*}
			\alpha = p^{r_1} q^{s_1} \gamma_1 \\
			\beta = p^{r_2} q^{s_2} \gamma_2
		\end{align*}
		con $r_i, s_i \ge 1$ para $i=1,2$.
		
		Finalmente como 
		\[ 
		\alpha p = \beta n
		\]
		tenemos que $r_1+ 1 = r_2$ pero por otro lado como
		\[
		\alpha q  = \beta m
		\]
		acá tenemos que al ser $m$ coprimo con $p$ luego la multiplicidad de $p$ en la descomposición en primos de lo que está a la izquierda es $r_1$ mientras que lo que está a la derecha es $r_2$.
		De acá concluimos que $r_{1} = r_{1} + 1$ y esto es una contradicción que vino de suponer que $[(p,q)] \in \ZZ \times \ZZ / F$ tenía orden finito por lo tanto tenemos que $\ZZ \times \ZZ$ no puede ser \vl.
		
	\end{enumerate}
\end{ej}


\section{Grafos no dirigidos.}\label{secc_graf_nd}

Sea $V$ un conjunto y $k \in \NN$ entonces introducimos la siguiente notación:
\[
	{\cal P}_k(V) = \{ X \subseteq {\cal P}(V) \mid |X| = k   \}
\]

\begin{deff}
	Un \emph{grafo no dirigido} $\Gamma$ es un par $(V,E)$ de conjuntos disjuntos que satisfacen que
	$E \subseteq {\cal P}_{2}(V)$.
	Los elementos de $V$ serán denominados \emph{vértices} mientras que los elementos de $E$ serán denominados \emph{aristas}.
	El conjunto de vértices de un grafo $\Gamma$ se escribe $V(\Gamma)$ y el de aristas se escribe $E(\Gamma)$.
\end{deff}


Diremos que $\Gamma$ es un \emph{grafo infinito} si $V$ no es un conjunto finito.
Dos vértices $v,w \in V$ son \emph{adyacentes} si $\{v,w \} \in E$.
Un vértice $v \in V$ es \emph{incidente} con una arista $e \in E$ si $v \in e$.

Definimos el conjunto $E(v) = \{  e \in E : v \ \text{es incidente con } \ e \}$.
Al valor $|E(v)|$ lo llamaremos el \emph{grado} de $v$.


\begin{deff}
	Un grafo $\Gamma$ es \emph{localmente finito} si para todo $v \in V$ vale que
	\[
		| E(v) | < \infty
	\]
	Un grafo $\Gamma$ tiene \emph{el grado acotado uniformemente} si existe $k \in \NN$ tal que para todo $v \in V$ vale que 
	\[
		|E(v)| \le k.
	\]
\end{deff}
\begin{obs}
	Todo grafo $\Gamma$ tal que tiene grado acotado uniformemente es un grafo localmente finito.
\end{obs}

Un \emph{camino} $c$ en un grafo no dirigido es una sucesión de vértices $c=(v_{0}, \dots, v_{n})$ de manera tal que $v_{i}$ es adyacente con $v_{i+1}$ para todo $0 \le i < n$.
Dado un grafo no dirigido $\Gamma$ entonces $\Pi (\Gamma) = \{  c \mid c \ \text{es un camino en } \ \Gamma \}$.
Dado un camino $c = (v_{0}, \dots, v_{n})$ denotaremos por su \emph{longitud} al número entero positivo $|c|= n$.
Un grafo es \emph{conexo} si para todo par de vértices $(v,w) \in V \times V$ existe un camino $c = (v_{0}, \dots, v_{n})$ tal que $v_{0} = v$ y $w=v_{n}$.
Diremos que el camino $c$ \emph{une los vértices} $v$ y $w$.
Un camino $c$ es \emph{cerrado} si $v_{0} = v_{n}$.
Es \emph{simple} si $v_{i} \neq v_{j}$ para todo $0 \le i < j \le n$.
Un camino $c$ es un \emph{ciclo} si es un camino simple cerrado tal que $|c| \ge 3$.
Un grafo conexo y sin ciclos es un \emph{árbol}.



\begin{deff}
	Dados grafos no dirigidos $\Gamma, \Gamma'$ un \emph{morfismo de grafos no dirigidos} es una función $\varphi:V(\Gamma) \to V(\Gamma')$ tal que para toda arista $\{ v,w \} \in E(\Gamma)$ vale que $\{  \varphi(v), \varphi(w) \} \in E(\Gamma')$.
	Un \emph{automorfismo} es un morfismo de grafos biyectivo $\varphi: V(\Gamma) \to V(\Gamma)$ tal que 
	$\{ v,w \} \in E(\Gamma) \iff \{ \varphi(v), \varphi(w) \} \in E(\Gamma)$. 
\end{deff}

Dado un grafo $\Gamma$ sus automorfismos forman un grupo con la composición.
Esto es que si $\text{Aut}(\Gamma) = \{ \varphi: \Gamma \to \Gamma  \mid \varphi \ \text{es un automorfismo} \  \}$ luego si miramos este conjunto con la composición de morfismos $\circ$ tenemos que $(\text{Aut}(\Gamma), \circ)$ es un grupo.

Una vez que tenemos definido el grupo de automorfismos de un grafo podemos hablar de acciones de grupos.

\begin{deff}
	Una \emph{acción} de un grupo $G$ sobre un grafo no dirigido $\Gamma$ es un morfismo $\psi:G \to \text{Aut}(\Gamma)$.
	En este caso diremos que $G$ actúa sobre $\Gamma$.
\end{deff}




Definimos ahora el tipo de grafos que utilizamos mayoritariamente en este trabajo.
Estos grafos conectan la teoría de grupos con la teoría de grafos no dirigidos.
Primero una definición útil en este contexto.


\begin{deff}
	Sea $G$ un grupo y $A$ un conjunto de generadores simétrico tal que $1 \notin A$.
	Definimos el \emph{grafo de Cayley} $\Gamma = \text{Cay}(G,A)$ como el grafo que tiene como vértices $V(\Gamma) = G$ y aristas $E(\Gamma) = \{ \{g,ga \} \mid g \in G, a \in A \}$.
	Para una arista $e = \{g,ga\}$ llamaremos la \emph{etiqueta de la arista $e$} al generador $a \in A$.
\end{deff}


En particular el grupo $G$ tiene una acción bastante natural sobre sus grafos de Cayley tal que es una acción libre.

\begin{lema}\label{lema_grp_acc_libre_cayley}
	Sea $G$ grupo finitamente generado por $A$ tal que $1 \notin A$ y $\Gamma = \text{Cay}(G,A)$ su grafo de Cayley entonces $G$ actúa libremente sobre $\Gamma$.
\end{lema}

\begin{proof}
	Vamos a definir una acción de $G$ sobre $\Gamma$ y probar que es libre.
	
	Una acción de $G$ en $\Gamma$ es un morfismo de grupos $\psi: G \to \text{Aut}(\Gamma)$.
	Dado $g \in G$ definimos $\psi(g)$ para $h \in V(\Gamma)$ como $\psi(g)(h) = gh$ donde usamos que los vértices del grafo de Cayley son los elementos del grupo por lo tanto podemos multiplicarlos en el grupo $G$ y mirar el vértice correspondiente.
	Por como lo definimos es claro que $\psi(g)$ es un morfismo de grafos. 
	Para ver que es un automorfismo basta con tomar $\psi(g^{-1})$ tal que es la inversa de $\psi(g)$.
	Por la definición también es claro que $\psi$ es un morfismo de grupos.
	
	Probemos ahora que la acción que conseguimos es libre.
	Para eso si $h \in V(\Gamma)$ notemos que si $\psi(g)(h) = h$ luego esto nos dice que $gh = h$ lo que implica que $g = 1$ por lo tanto la acción es libre.
	
\end{proof}

Veamos ahora que características necesariamente tiene que cumplir un grafo no dirigido para ser un grafo de Cayley.

\begin{lema}\label{lema_cayley_conexo_grado}
	Si $G$ es un grupo finitamente generado por un conjunto $A$ tal que $1 \notin A$ luego $\Gamma = \text{Cay}(G,A)$ es un grafo conexo y de grado acotado uniformemente.
\end{lema}
\begin{proof}
	Para ver que es conexo,	probaremos que para todo $g \in V(\Gamma)$ existe un camino $c$ tal que une $1 \in V(\Gamma)$ con $g$.
	Para eso usamos que $A$ es un conjunto de generadores por lo tanto $g = a_{1} \dots a_{k}$ para $a_{i} \in A$ para todo $1 \le i \le k$.
	Esto nos dice que el camino $c = (1, a_{1}, a_{1}a_{2}, \dots, a_{1} \dots a_{k})$ une $1$ con $g$ y así vemos que el grafo $\Gamma$ es conexo. 
	
	Para ver que tiene grado acotado uniformemente consideramos algún vértice $g \in V(\Gamma)$ luego $E(g) = \{  h \in V(\Gamma) : \{g,h\} \in E \}$ tal que por como definimos al grafo de Cayley tenemos que $\{g,h\} \in E(\Gamma) \iff h = ga$ para cierto $a \in A \cup A^{-1}$.
	De esta manera obtenemos la siguiente cota  $|E(g)| \le 2|A| < \infty$ usando que $A$ es un conjunto finito.
\end{proof}

Si $G$ es un grupo finitamente generado por $A$ tomaremos $B = A \cup A^{-1}$ otro conjunto finito de generadores que llamaremos el \emph{simétrico} de $A$.
Otra manera equivalente de pensar esto es que $B$ es un conjunto finito de generadores de $G$ no como grupo sino como monoide.

\begin{deff}
	Sea $G$ grupo finitamente generado por $A$ tal que $1 \notin A$.
	Sea $\text{Cay}(G,A)$ el grafo de Cayley respecto a $A$ entonces definimos la siguiente función 
	$l: \Pi(\text{Cay}(G,A)) \to (A \cup A^{-1})^*$
	de la siguiente manera:
	si $c = (g_{0}, \dots, g_{n}) \in \Pi(\text{Cay}(G,A))$ entonces para cada $0 \le i < n$ consideramos la etiqueta $a_{i} \in A \cup A^{-1}$ tal que $g_{i} = g_{i-1}a_{i}$ y así podemos finalmente definir \emph{la etiqueta del camino $c$} como siguiente palabra 
	$l(c) = a_{0}\dots a_{n-1}$.
	En el caso que $c = (g_{0})$ un camino constante definimos $l(c) = 1$. 
\end{deff}
\begin{lema}\label{obs_grafo_Cayley_palabras}
	Sea $G$ grupo finitamente generado por $A$ tal que $1 \notin A$.
	Sea $\Gamma = \text{Cay}(G,A)$ el grafo de Cayley para estos generadores y $l: \Pi(\Gamma) \to (A \cup A^{-1})^*$ 
%	y sea $\pi:(A \cup A^{-1})^* \to G$ la proyección de monoides entonces vale lo siguiente:
	\begin{enumerate}
		\item Si $c$ es un camino cerrado luego $l(c) = 1$.
		
		\item Si $c$ es un ciclo entonces $l(c)$ es una palabra reducida vista en el grupo libre $F_{A}$.
	\end{enumerate}
\end{lema}

\begin{proof}
	Para probar \textbf{1} consideremos $c = (g_{0}, \dots, g_{n})$ un camino cerrado en $\Gamma$ luego tiene que valer que $g_{n} = g_{0}$.
	Supongamos que $|c| \ge 1$ caso contrario no hay nada que probar.
	Sea $l(c) = a_{0} \dots a_{n-1}$ luego tenemos que 
	\[
		(g_{0}a_{0})(a_{1}a_{2} \dots a_{n-1}) = g_{1}(a_{1} \dots a_{n-1}) = \dots = a_{n-1}g_{n-1} =  g_{0}.
	\] 
	Esto dice que $g_{0}(a_{0} \dots a_{n-1}) = g_{0}$.
	Por lo tanto como tenemos una acción a izquierda del grupo en su grafo de Cayley obtenemos que 
	\[
		(g_{0} a_{0} \dots a_{n-1} g_{0}^{-1}) \cdot g_{0} = g_{0}
	\] 
	dado por lo visto en la proposición \ref{lema_grp_acc_libre_cayley} el grupo $G$ actúa libremente sobre su grafo de Cayley, por lo tanto el estabilizador de todo vértice tiene que ser trivial.
	Esto nos dice que 
	$g_{0} a_{0} \dots a_{n-1} g_{0}^{-1}  = 1$ lo que implica que $a_{0} \dots a_{n-1} = 1$ , esto es que $l(c) = 1$ tal como queríamos ver.
	
	Probemos \textbf{2}.
	Si $c = (g_{0}, \dots, g_{n})$ es un ciclo tal que $l(c) = (a_{0}, \dots, a_{n-1})$ luego va a ser reducida porque caso contrario existiría $i$ tal que $a_{i}^{-1} = a_{i+1}$ lo que implica que $g_{i}a_{i} = g_{i+1}$ y que $g_{i+1}a_{i}^{-1} = g_{i+2}$ y de esta manera obtenemos que $g_{i+2}a_{i} = g_{i+1} = g_{i}a_{i}$ y por lo tanto $g_{i+2} = g_{i}$ por lo que el camino $c$ no es un ciclo.
	
\end{proof}


Ahora vamos a ver que en el caso particular que el grupo sea libre entonces su grafo de Cayley para ciertos generadores se puede tomar para que sea un árbol.

\begin{lema}\label{lema_cayley_libre_arbol}
	Sea $A$ conjunto finito y $F_{A}$ el grupo libre sobre $A$ entonces $\Gamma = \text{Cay}(F_{A},A \cup A^{-1})$ es un árbol.
\end{lema}

\begin{proof}
	Todo grafo de Cayley es conexo por \ref{lema_cayley_conexo_grado}.
	Debemos ver que no tiene ciclos.
	Para eso si $c$ es un ciclo en $\Gamma$ entonces por la proposición \ref{obs_grafo_Cayley_palabras} obtenemos una palabra $l(c)$ en $(A \cup A^{-1})^*$ tal que es {reducida} y tal que $l(c) = 1$.
	Por \ref{obs_libres_pal_red} si una palabra reducida es la identidad del grupo entonces esta palabra es la palabra vacía lo que condice a que $|c|=0$ contradiciendo que $c$ era un ciclo dado que todos los ciclos cumplen que $|c| \ge 3$.
	Concluimos así que no hay ciclos en el grafo de Cayley de este grupo libre.
	
\end{proof}


Todo grafo lo podemos ver como un espacio métrico discreto si consideramos como conjunto base a sus vértices. 
Dado $\Gamma$ un grafo no dirigido conexo el espacio métrico asociado es 
$ (V(\Gamma), d )$ con $d$ la distancia definida como 
\[
	d(v,w) = \inf \{ \  |\gamma|  \mid  \gamma \ \text{es un camino y} \ 
	\gamma=(v,\dots, w)  \}.
\] 
A los caminos $\gamma$ tales que realizan la distancia las llamaremos \emph{geodésicas}.
Dado un grupo finitamente generado por $A$ un conjunto simétrico notaremos $(\text{Cay}(G,A), d_{A})$ al grafo de Cayley visto como espacio métrico.

Utilizaremos en varias ocasiones las siguientes dos observaciones:

\begin{enumerate}[1-]
	\item Si $\alpha = (v_{0}, \dots, v_{n})$ es una geodésica entonces para todo $0 \le i,j \le n$ vale que  $d(v_{i}, v_{j}) = |j-i|$.
	\item Si $T$ es un árbol entonces es \emph{únicamente geodésico}.
	Esto es que para todo par de vértices $t,s \in V(T)$ existe una única geodésica $\alpha$ que comienza en $s$ y termina en $t$.
\end{enumerate}



\end{document}