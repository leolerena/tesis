\documentclass[11pt]{book}
\usepackage{geometry}\geometry{top=5cm,bottom=2cm,left=3cm,right=3cm}
\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{amsmath,amsfonts,amsthm,amssymb,mathtools,sectsty}
\pagenumbering{gobble}
\usepackage{subcaption}
%\usepackage{graphicx}
%\usepackage[pdftex,dvipsnames]{xcolor}
\usepackage{cancel}
\usepackage{graphicx}
\usepackage{marginnote}


% Tikz y las librerías para automátas
\usepackage{tikz-cd}
\usepackage{tikz}
\usetikzlibrary{arrows,automata}
\usetikzlibrary{babel} %para evitar que se jodan los automatas de tikz
\usetikzlibrary{graphs} 

%Referencias; me gustaría que backref funcione pero no es importante tampoco.
\usepackage[pagebackref]{hyperref}
% Para modificar el estilo de las referencias
\hypersetup{
	colorlinks,
	linkcolor={astral},
	citecolor={red!70!black},
	urlcolor={red!80!black}
}
\definecolor{astral}{RGB}{46,116,181}
\colorlet{chulo}{blue!70!purple}
\colorlet{rojo}{purple!45!black}


%%%%%%%%%%%%%%%%%%%%% ENUMERAR CON COSAS QUE NO SEAN SOLO NÚMEROS %%%%%%%%%%
\usepackage[shortlabels]{enumitem}
\setlist[enumerate]{font=\bfseries}



%%%%%%%%%%%%%%%%%%%%%%% TÍTULOS DE SECCIONES MÁS FANCIES %%%%%%%%%%%%%%
\usepackage{titlesec}
\setcounter{secnumdepth}{3} % Hasta que profundidad quiero numerar, 4 sería los párrafos.
\titleformat{\section}[block]{\color{astral!50!black}\Large\bfseries\filcenter}{\S\thesection.}{1em}{}
\titleformat{\subsection}[hang]{\color{astral!50!black}\large\bfseries\filcenter}{\S\thesubsection.}{1em}{}

%%%%%%%%%%%%%%%%%%%%%% COLORES PÁRRAFOS Y CAPÍTULOS %%%%%%%%%%%%%%%%%%%%%%%%
%\paragraphfont{\color{astral!70!black}}
\chapterfont{\color{astral!40!black}}
%\subsectionfont{\color{astral!60!black} }
%\sectionfont{\color{astral!50!black} }

\usepackage{mathpazo}
\usepackage{amssymb}
%\usepackage{thmtools}

%Esto sirve para armar grafos de Cayley de una manera más copada.
\usetikzlibrary{lindenmayersystems,arrows.meta}
\newcount\quadrant
\pgfdeclarelindenmayersystem{cayley}{
	\rule{A -> B [ R [A] [+A] [-A] ]}
	\symbol{R}{ \pgflsystemstep=0.5\pgflsystemstep } 
	\symbol{-}{
		\pgfmathsetcount\quadrant{Mod(\quadrant+1,4)}
		\tikzset{rotate=90}
	}
	\symbol{+}{
		\pgfmathsetcount\quadrant{Mod(\quadrant-1,4)}
		\tikzset{rotate=-90}
	}
	\symbol{B}{
		\draw [dot-cayley] (0,0) -- (\pgflsystemstep,0) 
		node [font=\footnotesize, midway, 
		anchor={270-mod(\the\quadrant,2)*90}, inner sep=.5ex] 
		{\ifcase\quadrant$a$\or$b$\or$a^{-1}$\or$b^{-1}$\fi};
		\tikzset{xshift=\pgflsystemstep}
	}
}
\tikzset{
	dot/.tip={Circle[sep=-1.5pt,length=3pt]}, cayley/.tip={Stealth[]dot[]}
}


\usepackage[framemethod=tikz]{mdframed}

%%%%%%%%%%%%%  TEOREMAS  %%%%%%%%%%%%%%%%%
\theoremstyle{plain} %% el estilo clásico
\newtheorem{teo}{\color{rojo}{ \textsc{ Teorema}}}[section]
\newtheorem{prop}[teo]{\color{rojo} \textsc{Proposición}}
\newtheorem{lema}[teo]{\color{rojo} \textsc{Lema}}
\newtheorem{coro}[teo]{\color{rojo} \textsc{Corolario}}
% Si pongo [theorem] siguen la numeración de los teoremas. 
% e.j. Teo 1, Lema 2, Teo 3, Teo 4 ...
\theoremstyle{definition}
\newtheorem{deff}[teo]{\textsc{ Definición}}{\smallskip}
\newtheorem{ej}[teo]{\textsc{Ejemplo}}{\smallskip}

% Remarks
\theoremstyle{remark}
\newtheorem{obs}[teo]{ \textsc{Observación}}{\smallskip}

%%%%%%%%%% FRAMES PARA TEOREMAS A LO HATCHER %%%%%%%%%%%%%%%%%%%%%%%%%

\surroundwithmdframed[outerlinewidth=0.4pt,
innerlinewidth=0.4pt,
align=center,
middlelinewidth=1pt,
middlelinecolor=white,
innertopmargin=-4pt,
innerbottommargin=0pt,
innerrightmargin=4pt,
innerleftmargin=4pt,
bottomline=false,topline=false,rightline=false]{teo}
\surroundwithmdframed[outerlinewidth=0.4pt,
innerlinewidth=0.4pt,
align=center,
middlelinewidth=1pt,
middlelinecolor=white,
innertopmargin=-4pt,
innerbottommargin=0pt,
innerrightmargin=4pt,
innerleftmargin=4pt,
bottomline=false,topline=false,rightline=false]{lema}

\surroundwithmdframed[outerlinewidth=0.4pt,
innerlinewidth=0.4pt,
align=center,
middlelinewidth=1pt,
middlelinecolor=white,
innertopmargin=-4pt,
innerbottommargin=0pt,
innerrightmargin=4pt,
innerleftmargin=4pt,
bottomline=false,topline=false,rightline=false]{prop}


\surroundwithmdframed[outerlinewidth=0.4pt,
innerlinewidth=0.4pt,
align=center,
middlelinewidth=1pt,
middlelinecolor=white,
innertopmargin=-4pt,
innerbottommargin=0pt,
innerrightmargin=4pt,
innerleftmargin=4pt,
bottomline=false,topline=false,rightline=false]{coro}

%==================================================================%

% DEMOS EN NEGRITA.
\renewenvironment{proof}{{\textbf{Demostración.}}}{ \hfill $\blacksquare$ \medskip} 

%% ========== Para escribir pseudo ==========
%\usepackage{algorithm}
%\usepackage[noend]{algpseudocode}  % "noend" es para no mostrar los endfor, endif
%%\algrenewcommand\alglinenumber[1]{\tiny #1:}  % Para que los numeros de linea del pseudo sean pequeños
%\renewcommand{\thealgorithm}{}  % Que no aparezca el numero luego de "Algorithm"
%\floatname{algorithm}{ }    % Entre {  } que quiero que aparezca en vez de "Algorithm"
%
%% traducciones
%\algrenewcommand\algorithmicwhile{\textbf{mientras}}
%\algrenewcommand\algorithmicdo{\textbf{hacer}}
%\algrenewcommand\algorithmicreturn{\textbf{devolver}}
%\algrenewcommand\algorithmicif{\textbf{si}}
%\algrenewcommand\algorithmicthen{\textbf{entonces}}
%\algrenewcommand\algorithmicfor{\textbf{para}}
%
%%% indentar dentro de los algoritmos
%\algdef{SE}[SUBALG]{Indent}{EndIndent}{}{\algorithmicend\ }%
%\algtext*{Indent}
%\algtext*{EndIndent}

% =========================================================
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}



%Comandos útiles.
\newcommand\RP{\mathbb{RP}}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\Om}{\Omega}
\newcommand{\A}{\mathcal A}
\newcommand\ol{\overline}
\newcommand{\blue}{\textcolor{chulo}}
\newcommand{\red}{\textcolor{rojo}}
\newcommand{\Gg}{\mathfrak g}
\newcommand{\SL}{SL_2(\mathbb Z)}
\newcommand{\stab}{\text{Stab}}
\newcommand{\ic}{independiente de contexto }
\newcommand{\APND}{automáta de pila no determinístico }
\newcommand{\APD}{automáta de pila determinístico }
\newcommand{\gramatica}{{\cal G} = (V, \Sigma, P, S)}
\newcommand{\deriva}{\overset{*}{\Rightarrow_{\cal G}}}
\newcommand{\lengderivado}{L({\cal G})}
\newcommand{\fg}{grupo finitamente generado }
%\newcommand{\ol}{\overline{}}

\newcommand{\fp}{grupo finitamente presentado }
\newcommand{\vl}{virtualmente libre}
\newcommand{\WP}{\text{WP}(G, \Sigma)}

\newcommand{\cG}{ {\cal G} }
\newcommand{\cH}{ {\cal H} }
\newcommand{\Xm}{\widetilde X}
%\newcommand{\ol}{\overline{}}

\newcommand{\ca}{{\cal C}(\alpha)}
\newcommand{\cam}{{\cal C}_{\text{min}}(\alpha)}
\newcommand{\copta}{{\cal C}_{\text{opt}}(\alpha)}
\newcommand{\copt}{{\cal C}_{\text{opt}}}



%%%%%%%%%%%%%%  SETUP DE LA PÁGINA %%%%%%%%%%%%%%%%%
%\usepackage{fancyhdr} 
\pagestyle{headings} 
\pagenumbering{arabic} 
%\foot[C]{\textbf{\thepage}} % except the center
%\setlength{\headheight}{42pt}% ...at least 51.60004pt
%\renewcommand{\headrulewidth}{0.8pt}
%\head[L]{\thepage} 
%\head[R]{\textsl{\leftmark}} 
%\fancyfoot[C]{\thepage}

\usepackage{float}


\usepackage{subfiles} % mejor ponerlos al final

\title{\color{red!55!black} Tesis.}

\date{}

\begin{document}
\thispagestyle{empty}

\begin {center}

\includegraphics[scale=.4]{logofac.jpg}

%\includegraphics[scale=.3]{uba2.jpg}

\medskip
\textbf{\color{astral!40!black} UNIVERSIDAD DE BUENOS AIRES}

\smallskip

\textbf{\color{astral!40!black}Facultad de Ciencias Exactas y Naturales}

\smallskip

\textbf{\color{astral!40!black}Departamento de Matem\'atica}

\vspace{3.5cm}

\textbf{\large \color{astral!40!black} Tesis de Licenciatura}


\vspace{1.5cm}

\textbf{\large \color{astral!40!black} El problema de la palabra para grupos virtualmente libres.}

\vspace{1.5cm}


\textbf{\color{astral!40!black} Leopoldo Lerena.}

\end {center}


\vspace{1.5cm}

\noindent \textbf{\color{astral!40!black} Director: Iván Sadofschi Costa} \ \dots


\vspace{3cm}

\rightline{\color{astral!40!black} Fecha de Presentaci\'on}
\tableofcontents
\newpage

\subfile{lenguajes}	
\subfile{bass_serre}
\subfile{cayley}
\subfile{cortes}
\subfile{wordproblem}

%\subfile{coset-enum}

\bibliography{bibliografia}
\bibliographystyle{alpha}
\end{document}	