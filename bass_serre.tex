%!TeX root = bass_serre.tex
\documentclass[tesis.tex]{subfiles}
\def\acts{\curvearrowright}

%\newcommand{\ol}{\overline{}}
%\newcommand{\ic}{independiente de contexto }
%\newcommand{\APND}{automáta de pila no determinístico }
%\newcommand{\APD}{automáta de pila determinístico }
%\newcommand{\fg}{grupo finitamente generado }
%\newcommand{\fp}{grupo finitamente presentado }
%\newcommand{\vl}{virtualmente libre}
%\newcommand{\WP}{\text{WP}(G, \Sigma)}
%\newcommand{\deriva}{\overset{*}{\Rightarrow_{\cal G}}}
%\newcommand{\cG}{ {\cal G} }
%\newcommand{\cH}{ {\cal H} }
%\newcommand{\Xm}{\widetilde X}


\begin{document}

\chapter{Teoría de Bass--Serre.}

La mayoría de las construcciones de esta sección siguen la exposición de \cite{serre2002trees} aunque la notación no es exactamente la misma sino que es similar a la utilizada en el trabajo \cite{diekert2017context} 

\section{Definiciones básicas.}


\begin{deff}
	Un \emph{grafo dirigido} es un par ordenado $Y= (V,E)$ tal que al conjunto $V$ lo llamaremos los \emph{vértices} y al conjunto $E$ las \emph{aristas}.
	Para cada arista $y \in E$ tendremos unas asignaciones $s(y) = P \in V, t(y) = Q \in V$.
	A su vez para cada $y \in E$ existe una única arista $\overline y \in E \setminus \{ y \}$ que cumple que $\ol {\ol y} = y$ y que $s(\ol y) = Q$ y que $t(\ol y) = P$. 
	Decimos que $Y$ es \emph{finito} si $|V| < \infty$ y $|E| < \infty$.
\end{deff}
	Si queremos referirnos a los vértices de un grafo $Y$ en particular notaremos $V(Y)$ a sus vértices y similarmente $E(Y)$ a sus aristas. 
	Dos vértices $P, Q \in V$ están unidos por una arista $y$ si $s(y)=P, t(y) = Q$ o bien $s(y)=Q, t(y)= P$. 
	\begin{deff}
		Sea $Y$ un grafo dirigido.
		Una \emph{orientación} de las aristas de $Y$ es un subconjunto $A \subset E$ que cumple que para cada arista $y$ tenemos que $y \in A \iff \overline y \notin A$.	
	\end{deff}
	

\begin{deff}
	Dado un grafo dirigido $Y$ y dos vértices $P, Q \in V$ un \emph{camino} entre $P$ y $Q$ es una sucesión finita de aristas $y_0, \dots, y_k$ de manera que $s(y_0) = P, t(y_k) = Q$ y tal que para todo $0 \le i \le k$ vale que $y_i \in E$ y que $t(y_i) = s(y_{i-1})$.
	La \emph{longitud} del camino $c$ es la cantidad de aristas que lo componen.
	Un camino $y_0, \dots y_n$ tiene \emph{backtracking} si existen $ 0 \le i,j \le n$ tales que $y_i = \ol{y_{j}}$.
\end{deff}	

	En el caso particular que $P = Q$ permitimos tomar el camino constante $c = ()$. 
	Este camino tiene longitud $0$.

\begin{deff}
	Dado un grafo dirigido $Y$ una \emph{geodésica} es un camino $y_0, \dots y_n$ tal que si $s(y_0)=P$ y $t(y_n)=Q$ luego para todo camino $z_0, \dots, z_m$ tal que $s(z_0) = P$ y $t(z_m) = Q$ resulta que $m \ge n$.
	Un grafo $Y$ dirigido que cumple que para todo par de vértices $P,Q$ exista una única geodésica $y_0, \dots, y_k$ tal que $s(y_0) = P$ y tal que $t(y_k) = Q$ diremos que es \emph{únicamente geodésico.}
\end{deff}
	En particular notemos que toda geodésica carece de backtracking.
	
\begin{deff}
	Un grafo es \emph{conexo} si para todo par de vértices $P, Q \in V$ existe un camino entre ellos.
	Un \emph{ciclo} en un grafo dirigido es un camino $y_0, y_1, \dots, y_k$ que no tiene backtracking, donde todas las aristas son distintas y que cumple que $s(y_0) = t(y_k)$. 	 
	Un grafo es un \emph{árbol} si es conexo y no tiene ciclos.
\end{deff}
	
\begin{lema}
	Todo árbol $T$ es únicamente geodésico.
\end{lema}
\begin{proof}
	Ver \cite{diestel2005graph}
\end{proof}
\begin{deff}
	Dado un grafo $Y$ conexo diremos que $T$ es un \emph{árbol generador} de $Y$ si $V(T) = V(Y)$ y $E(T) \subseteq E(Y)$.
\end{deff}

\begin{prop}
	Dado un grafo conexo $Y$ existe un árbol generador $T$ de $Y$.
\end{prop}
\begin{proof}
	Ver \cite{diestel2005graph}.
\end{proof}

%Dado un grafo dirigido $Y$ va a ser conveniente considerar que es la unión disjunta $Y = V \sqcup E$ en algunas circunstancias en vez de un par ordenado.
%En particular para definir

\begin{deff}
	Sean $Y, Y'$ grafos dirigidos. 
	Un par de funciones $\phi_V:V(Y) \to V(Y')$ y $\phi_E: E(Y) \to E(Y')$ que denotaremos $\phi:Y \to Y'$ es un \emph{morfismo de grafos} si:
	\begin{itemize}
		\item Para toda $y \in E(Y)$ vale que $\ol{\phi(y)} = \phi(\ol y)$;
		\item Para toda $y \in E(Y)$ vale que $\phi(s(y)) = s(\phi(y))$;
		\item Para toda $y \in E(Y)$ vale que $\phi(t(y)) = t(\phi(y))$.
	\end{itemize}   
\end{deff}

Un \emph{automorfismo} de grafos dirigidos es un morfismo que tiene una inversa.
Los automorfismos de un grafo dirigido $Y$ forman un grupo con la composición que denotaremos Aut$(Y)$.

Como tenemos automorfismos de grafos podemos definir una acción de un grupo sobre un grafo dirigido.
\begin{deff}
	Sea $G$ un grupo y sea $Y$ un grafo dirigido luego \emph{$G$ actúa sobre $Y$} si existe un morfismo de grupos $\psi: G \to \text{Aut}(Y)$.
	Diremos que una acción \emph{no tiene inversiones} si para todo $g \in G$ y para toda $y \in E$ tenemos que $\psi(g)(y) \neq \ol y$.
\end{deff}

Utilizaremos la notación estándar $g \cdot y$ para referirnos a $\psi(g)(y)$.
Ahora podemos definir los objetos centrales a la teoría de Bass--Serre.

\begin{deff}
	Dado un grafo dirigido $Y$.
	Un \emph{grafo de grupos $\cal G$ sobre $Y$} está definido por lo siguiente:
	\begin{enumerate}
		\item Para cada vértice $P \in V$ tenemos un grupo $G_P$.
		\item  Para cada arista $y \in E$ tenemos un subgrupo $G_y$ de $G_{s(y)}$.
		\item Para todo $y \in E$ tenemos un isomorfismo de $G_y$ a $G_{\overline y}$ que denotaremos por $a \mapsto a^{\overline y} $ tal que $(a^{\overline y})^y  = a$ para todo $a \in G_y$.
	\end{enumerate}
\end{deff}

Dado un grafo $Y = (V, E)$ sea $F_{E}$ el grupo libre generado por las aristas del grafo.

\begin{deff}
	Dado un grafo de grupos $\cal G$ sobre un grafo $Y = (V, E)$ consideremos el siguiente grupo: 
	\begin{equation*}
		F({\cal G}) = (\underset{P \in V}{\Asterisk} G_P \Asterisk F_{E}) / \langle \langle  R \rangle \rangle
	\end{equation*}
	donde el conjunto de relaciones por las que dividimos es 
	\[
		R = \{  \ol y a y = a^{\overline y}   \ \text{para toda $y \in E$ y todo \  $a \in G_y$} \}
	\]
\end{deff}


\begin{deff} \label{def_pi1_arbol}
	Sea un grafo de grupos $\cal G$ sobre $Y$.
	Consideremos $T$ un árbol de expansión del grafo $Y$.
	El \emph{grupo fundamental del grafo de grupos} es
	\begin{equation*}
		\pi_1({\cal G}, T) = F({\cal G}) / \{ y \  | \ y \in E(T)  \}.
	\end{equation*}
\end{deff}

\begin{obs}
	Para cada arista $y \in E(Y)$ notaremos por $g_{y}$ a la imagen de $y \in F(\cG)$ en el cociente $\pi_1(\cG,T)$.
\end{obs}

\begin{ej}
	Sea un grafo de grupos $\cal G$ sobre un grafo $Y$ tal que $G_y = \{ 1 \}$ para todo $y \in E(Y)$.
	Consideremos una orientación $A$ para las aristas del grafo.
	El grupo fundamental $\pi({\cal G}, T)$ está generado por los elementos $g \in G_P$ donde $P \in V(Y)$ y los elementos $g_y \in A \setminus (T \cap A)$.
	Por lo tanto obtenemos que el grupo fundamental de este grafo de grupos resulta ser
	\[
	\pi_1({\cal G}, T) = \underset{P \in V(Y)}{\Asterisk} G_P \Asterisk F_{A \setminus (T \cap A)}
	\]
	Si reescribimos esto recordando que el grupo fundamental de un grafo como espacio topólogico es isomorfo al grupo libre en el conjunto de sus aristas que no pertenecen a un árbol de expansión nos queda que 
	\[
		\pi_1({\cal G}, T) \simeq \underset{P \in V(Y)}{\Asterisk} G_P  \Asterisk \pi_1(Y) 
	\]
\end{ej}

\begin{ej}\label{ej_pi1_segmento}
	Si el grafo $Y$ es un segmento en particular él mismo es el árbol de expansión puesto que es un árbol.
	De esta manera si $Y$ es el siguiente segmento de grupos,
	\[\begin{tikzcd}
		{G_P \ \ \bullet} && {\bullet \ \ G_Q}
		\arrow["G_y"{pos=0.6}, from=1-1, to=1-3]
	\end{tikzcd}\]
	entonces el grupo fundamental de este grafo de grupos resulta ser el producto amalgamado
	\[
	\pi_1({\cal G}, Y) = G_P \underset{G_{y}}{\Asterisk} G_Q.
	\]
	donde acá estamos abusando levemente la notación para decir que $G_{y}$ es subgrupo de $G_{Q}$ cuando realmente es subgrupo de $G_{p}$.
	Dado que $G_{y} \simeq G_{\ol y}$ por ser un grafo de grupos entonces podemos escribirlo de esta manera.
\end{ej}

Nuestro foco ahora es dar una definición equivalente de grupo fundamental pero esta vez usando caminos así como lo hacemos para el grupo fundamental usual de un espacio topológico.

\medskip
Dados dos vértices $P,Q \in V$ denotaremos por $\Pi(P,Q)$ el conjunto de caminos de $P$ a $Q$.
De esta manera nos queda definido
\[
\Pi(P,Q) = \{  y_1, \dots, y_k \ | \ s(y_1)=P, \ t(y_k) = Q, \ t(y_i) = s(y_{i+1})  \ \text{para} \ 1 \le i \le k \}
\]
Todo camino $y_1, \dots, y_k \in \Pi(P,Q)$ lo podemos pensar como la palabra $y_1 \dots y_k$ en el grupo libre $F_E$ y similarmente podemos mirar la clase de $y_1\dots y_k$ en el cociente $F(\cG)$.  

\begin{deff}
	Dado $\cG$ grafo de grupos sobre $Y$ grafo conexo y $P,Q \in V$ dos vértices de $Y$ definimos el siguiente subconjunto de $F(\cG)$,
	\begin{equation*}
		\pi(\cG, P, Q) = \{  g_0y_1g_1 \dots g_{k-1}y_kg_k : y_1,\dots, y_k \in \Pi(P,Q), \ \ 
		 \forall i, \ 1 \le i < k, g_i \in G_{s(y_{i+1})}, \ \ g_k \in G_Q \}	
	\end{equation*}
\end{deff}
 
\begin{prop}
	Para todo $P \in V$ tenemos que $\pi(\cG,P,P)$ es un subgrupo de $F(\cG)$.
\end{prop}
\begin{proof}
	Debemos ver que tiene a la identidad del grupo, que es cerrado por el producto y que todo elemento tiene un inverso.

	Si consideramos el camino vacío y $g_0 = 1$ luego obtenemos que $1 \in \pi(\cG, P , P)$.
	Para ver que es cerrado por el producto notemos que 
	\begin{equation*}
		(g_0y_1g_1 \dots g_{k-1}y_kg_k ) \circ ( g'_0y'_1g'_1 \dots g'_{k-1}y'_kg'_k) =  g_0y_1g_1 \dots g_{k-1}y_k(g_kg'_0)y'_1g'_1 \dots g'_{k-1}y'_kg'_k
	\end{equation*}
	donde $g_kg'_0 \in G_P$ por lo tanto su producto está bien definido y en definitiva nos queda otro elemento de $\pi(\cG, P, P)$ tal como queríamos ver.
	Finalmente vemos que es cerrado por inversos porque si tomamos el elemento $g_0y_1\dots y_{k} g_k$ su inverso resulta ser ${g_k}^{-1} \ol{y_k} \dots \ol{y_1}{g_0}^{-1} \in \pi(\cG,P,P)$.
\end{proof}

\begin{deff}
	\emph{El grupo fundamental de $\cG$ respecto a un punto base $P$} se define como $\pi_1(\cG, P) = \pi(\cG,P,P)$.
\end{deff}

Notemos que en particular para esta construcción obtuvimos un subgrupo del grupo $F(\cal G)$ mientras que en el caso de la definición anterior del grupo fundamental \ref{def_pi1_arbol} obtuvimos un cociente.
Podemos ver que ambas definiciones son equivalentes porque tenemos un isomorfismo como grupos.

\begin{teo}\label{teo_grp_fund_iso}
	Sea $\cG$ un grafo de grupos sobre un grafo conexo finito $Y = (V,E)$, sea $P \in V$ un vértice y sea $T$ un árbol generador de $Y$ entonces $\pi_1({\cal G}, P)$ es isomorfo a $\pi_1({\cal G}, T)$.
\end{teo}
\begin{proof}
	Dados $P,Q \in V$ consideremos la geodésica $\alpha$ que los une sobre $T$.
	Si leemos la sucesión de aristas que recorre esta geodésica tenemos una palabra $T[P,Q] \in F_{E}$. 
	Tomamos la convención que $T[P,P] = 1$.
	Como $\alpha$ no tiene backtracking podemos considerar a $T[P,Q]$ como un elemento en el grupo $F(\cG)$.
	Observemos que $T[P,Q] = T[Q,P]^{-1}$ porque el árbol es únicamente geodésico.
	
	Ahora definamos el siguiente morfismo (que depende del árbol de expansión que tomamos) sobre los generadores del producto libre:
	
	\begin{align*}
		\tau: & \underset{P \in V}{\Asterisk} G_P \Asterisk F_{E} \to \pi_1(\cG,P)  \\
		 \tau(y) &= T[P,s(y)]yT[t(y),P] \ \ \text{para } \ y\in E(Y) \\
		\tau(g) &= T[P,Q] g T[Q,P] \ \  \text{para} \ Q \in V(Y), \ g \in G_Q
	\end{align*}
	Notemos que por como definimos a este morfismo tenemos que $\tau(y) \in \pi_1(\cG,P)$ y que similarmente $\tau(g) \in \pi_1(\cG,P)$.
	

	Veamos que a partir de $\tau$ nos podemos definir un morfismo sobre $F(\cG)$.
	Debemos ver que cumple la relación $\tau(\overline y a^y y) = \tau (a^{\overline y})$ para toda arista $y \in E(Y)$ y todo $a \in G_y$.
	Esto vale porque justamente 
	\begin{align*}
		\tau(\overline y a^y y) & = T[P,s(\overline y)]\ol yT[t(\ol y),P] T[P,s(y)] a^y T[t(y),P] T[P,s(\overline y)]yT[t( y),P] \\
		& = T[P,s(\overline y)]  \ol y a^y y T[t( y),P] \\
		& = \tau (a^{\ol y}).
	\end{align*}
	donde usamos que $\ol y a^y y = a^{\ol y}$ en $\pi_1(\cG,P)$.
	Sea $\tau: F(\cG) \to \pi_1(\cG, P)$ este morfismo que definimos.
	Por como está definido $\tau$ tenemos que si lo restringimos al subgrupo  $\pi_1(\cG,P)$ resulta ser la identidad y en particular tenemos que $\tau$ es un epimorfismo.
	
	Veamos que $\tau$ baja al cociente $\pi_1(\cG, T)$ y luego que este es el isomorfismo que buscamos para terminar de probar el teorema.
	Sea $y \in E(T)$ luego $\tau(y) = T[P,s(y)]yT[t(y), P]$ donde $T[t(y), P] = \ol y T[s(y), P]$ y de esta manera $\tau(y) = 1$ para todo $y \in E(T)$.
	Por esta razón $\tau$ pasa al cociente y existe $\ol \tau: \pi_{1}(\cG, T) \to \pi_1 (\cG, P)$ epimorfismo tal que hace conmutar el siguiente diagrama,
	
	\begin{center}
		\begin{tikzcd}
			F(\cal{G}) \arrow[rr, "\tau"] \arrow[dd, "\pi"']             &  & {\pi_1({\cal G}, P)} \\
			&  &                      \\
			{\pi_1({\cal G}, T)} \arrow[rruu, "\overline \tau"', dashed] &  &                     
		\end{tikzcd}
	\end{center}
	
	Para terminar la demostración probemos que $\ol \tau$ es un monomorfismo.
	Para eso consideramos $\nu = \pi \circ \iota$ donde $\iota: \pi_1(\cG,P) \to F(\cG)$ es la inclusión como subgrupo y probemos que $\nu \circ \ol \tau$ nos queda la identidad.
	Si hacemos $\nu \circ \ol \tau$ notemos que si $g \in G_Q$ con $Q \in V$ luego
	\begin{align*}
		\nu \circ \ol \tau (\pi (g)) & = \nu (T[P,Q]gT[Q,P]) \\
					&= \pi(T[P,Q]gT[Q,P]) \\
					&= \pi(T[P,Q]) \pi (g) \pi (T[Q,P]) \\
					&= \pi(g).
	\end{align*}
	Donde usamos que $T[P,Q]$ es un camino de aristas en el árbol de expansión por lo tanto $\pi(T[P,Q]) = 1$. 
	Similarmente podemos ver que para toda $y \in E$ tenemos que $\nu \circ \ol \tau (\pi(y)) = \pi(y)$.
	De esta manera vimos que $\ol \tau : \pi_{1}(\cG,T) \to \pi_{1}(\cG,P)$ es un isomorfismo de grupos.
\end{proof}

Como corolario de este resultado vimos que el grupo fundamental de un grafo no depende del árbol de expansión que tomemos porque siempre va a resultar isomorfo al grupo fundamental a partir de un vértice arbitrario del grafo.

\section{Palabras reducidas.}

En esta sección probaremos que todo elemento del grupo fundamental de un grafo de grupos puede ser llevado a una forma reducida.

\subsection{Casos particulares.}

En esta subsección vamos a caracterizar las palabras reducidas de los grupos fundamentales de algunos grafos de grupos donde los grafos resultan ser más sencillos.
El objetivo aparte de ejemplificar en unos casos en particular, es que más en adelante nos va a servir para reducir proposiciones sobre grafos de grupos arbitrarios a grafos de grupos donde sus grafos sean de estas formas.

\subsubsection{Segmentos.}
Consideremos que nuestro grafo de grupos $\cG$ está dado sobre cierto segmento $Y$,
\[\begin{tikzcd}
Y \ = \  	{P \ \ \bullet} && {\bullet \ \ Q}
	\arrow["y"{pos=0.6}, from=1-1, to=1-3]
\end{tikzcd}\]
Por lo visto en la sección anterior \ref{ej_pi1_segmento} su grupo fundamental es el producto amalgamado $\pi_1(\cG) = G_P \ast_{G_y} G_Q$. 
Vamos a construir una manera de escribir a los elementos de este producto amalgamado.

Para eso sean $S$ transversal a izquierda de $G_{y}$ en $G_P$ y $T$ transversal a izquierda de $G_{\ol y}$ en $G_{Q}$.
Las \emph{formas normales} van a ser sucesiones $(x_0,x_1,\dots, x_n ,a)$ tales que $a \in G_{y}$ y para todo $0\le  i \le n$ tenemos que $x_{i} \in S \setminus \{ 1 \}$ o bien $x_{i} \in T \setminus \{ 1 \}$ y no hay elementos consecutivos $x_{i}, x_{i+1}$ en el mismo transversal.

\begin{prop}\label{prop_amalgamado_formanormal}
	Para todo elemento $g$ de un grupo amalgamado $G_P \ast_{G_y} G_Q$ existe una única forma normal $(x_0,x_1,\dots,x_n,a)$ tal que $g= x_0x_1\dots x_n a$.
\end{prop}
\begin{proof}
	Ver \cite{lyndon1977combinatorial}
\end{proof}
 
\subsubsection{Bucles.}
Consideremos que nuestro grafo de grupos $\cG$ está dado sobre cierto bucle $Y$,
\[
Y = 	\begin{tikzcd}
	\overset{P}{\bullet} \arrow["y", loop, distance=2.5em, in=355, out=50]
	\end{tikzcd}
\]
Este grafo no tiene árbol de expansión por lo que $F(\cG) \simeq \pi_1(\cG)$.
Si $a$ es algún elemento de $G_y$ entonces notaremos por $\overline{a}$ a la imagen de $a$ por el isomorfismo con el grupo $G_{\ol y}$.
Sea $g$ el generador de $F_{E}$ correspondiente a la arista $y$. 
En este caso las relaciones que tenemos en nuestro grupo son las siguientes
\[
	g^{-1}ag = \ol{a}  \  \ \ \text{para todo} \ a \in G_y.
\]   
De esta manera tenemos que una presentación de nuestro grupo fundamental es la siguiente
\[
	\pi_1(\cG) = \langle G_P, g \ | \ g^{-1}ag = \ol{a}, \ a \in G_y \rangle
\]
es decir el grupo fundamental de este grafo de grupos resulta ser una extensión HNN del grupo correspondiente al vértice que denotaremos $G_P^{\ast G_y}$.

Así como hicimos en los grupos amalgamados podemos considerar formas normales en estos grupos.
Sea $S$ conjunto transversal a izquierda de $G_y$ en $G_P$ y sea $T$ conjunto transversal de $G_{\ol y}$ en $G_P$.
Una \emph{forma normal para una extensión HNN} va a ser una sucesión 
\[
	(x_{0},g^{\epsilon_0},x_{1},g^{\epsilon_1}, \dots, x_{n},g^{\epsilon_n},x_{n+1})
\]
 donde $x_0 \in G_P$ es algún elemento arbitrario de este grupo, $\epsilon_{i} \in \{ -1,1 \}$.
En el caso que $\epsilon_{i} = 1$ entonces $x_i \in S \setminus \{ 1\}$ mientras que en el caso que $\epsilon_{i} = -1$ tenemos que $x_{i} \in T \setminus \{ 1 \}$. 


Ahora veamos un resultado análogo al que demostramos anteriormente para grupos amalgamados que nos dirá una manera de escribir las palabras en estos grupos.

\begin{prop}\label{prop_hnn_formanormal}
	Para todo $g \in G_P^{\ast G_y}$ existe una única forma normal 
	\[
		(x_{0},g^{\epsilon_0},x_{1},g^{\epsilon_1}, \dots, x_{n},g^{\epsilon_n},x_{n+1})
	\]
	 tal que $g = x_{0}g^{\epsilon_0}x_{1}g^{\epsilon_1} \dots x_{n},g^{\epsilon_n}x_{n+1u} $ .
\end{prop}
\begin{proof}
	Ver \cite{lyndon1977combinatorial}
\end{proof}

Un refinamiento de esta proposición nos dice una condición necesaria para que una forma normal no represente el neutro del grupo.
Consideremos una sucesión 
\[
	(x_{0},g^{\epsilon_0},x_{1},g^{\epsilon_1}, \dots, x_{n},g^{\epsilon_n},x_{n+1})
\]
tal que no sea necesariamente una forma normal. 
Diremos que esta sucesión es \emph{reducida} si no tiene subsucesiones $t^{-1},x_i,t$ con $x_i \in S$ o bien tal que $t,x_i,t^{-1}$ con $x_i \in T$.
\begin{teo}[Britton]\label{teo_britton}
	Sea $G_P^{\ast G_y}$ una extensión HNN y sea $(x_{0},g^{\epsilon_0},x_{1},g^{\epsilon_1}, \dots, x_{n},g^{\epsilon_n},x_{n+1})$ una sucesión en este grupo.
	Si $x_{0}g^{\epsilon_0}x_{1}g^{\epsilon_1} \dots x_{n}g^{\epsilon_n}x_{n+1} = 1$ entonces la sucesión no está reducida.
\end{teo}
\begin{proof}
	Ver \cite{lyndon1977combinatorial}.
\end{proof}


\subsection{ Caso general.}
Sea $\cG$ un grafo de grupos sobre un grafo conexo y finito $Y$.
En esta sección vamos a caracterizar los elementos del grupo $\pi_1(\cG, T)$ a partir de sucesiones reducidas tal como hicimos en el caso particular de los productos amalgamados y las extensiones HNN.

Definimos las sucesiones que vamos a usar:
\begin{itemize}
	\item $c=y_1, \dots, y_n \in \Pi(P,Q)$ algún camino entre dos aristas $P,Q \in V$;
	\item $\mu = r_0, \dots r_n$ una sucesión tomados de manera que $r_0 \in G_P$ y para todo $ 1 \le i \le n $ vale que $r_i \in G_{t(y_i)}$.
\end{itemize}

De esta manera denotaremos por el par $(c, \mu)$ a la palabra en el grupo $\underset{P \in V}{\Asterisk} G_P \Asterisk F_E$:
\[
(c,\mu) = r_0 y_1 r_1 y_2 \dots r_n.
\]
Notaremos $|c,\mu|$ la imagen de esta palabra en el grupo $F(\cG)$ esto es que
\[
	|c,\mu| = [r_0 y_1 r_1 y_2 \dots r_n]_{F(\cG)}.
\]

\begin{deff}
	Una palabra $(c, \mu)$ es \emph{reducida} si satisface:
	\begin{enumerate}[R1.]
		\item Si la longitud de $c$ es $0$ entonces $r_0 \neq 1$.
		\item Si la longitud de $c$ es positiva entonces $r_i \notin G_{\ol y_{i}}$ para todo $i$ tal que $y_{i+1} = \ol y_{i}$.
	\end{enumerate}
\end{deff}
En particular si tomamos una palabra $(c, \mu)$ tal que el camino $c$ no tiene backtracking inmediato esto es que existe $y_i$ tal que $\ol {y_{i+1}} = y_{i}$ entonces por la propiedad \textbf{R2} tenemos que esta palabra va a ser reducida.

Queremos ver que esta definición de una palabra reducida nos alcanza para probar que estas palabras vistas en $F(\cG)$ son distintas de la identidad.
Nuestro objetivo es el siguiente teorema.

\begin{teo}\label{teo_pal_red}
	Sea $\cG$ un grafo de grupos sobre un grafo finito y conexo $Y$ luego toda palabra $(c, \mu)$ reducida es tal que $|c,\mu| \neq 1$.
\end{teo}

En particular de este resultado se desprenden corolarios importantes para entender la estructura de los grupos fundamentales de grafos de grupos finitos.

\begin{coro}\label{coro_pal_red_1}
	Sea $\cG$ un grafo de grupos sobre un grafo finito y conexo $Y$ luego para todo $P \in V$ vale que $G_P$ es un subgrupo de $F(\cG)$.
\end{coro}
\begin{proof}
	Para todo $P \in V$ tenemos que $G_P$ es un subgrupo de $\ast_{P \in V} G_P \ast F_E$.
	Sea  $g \in G_{P} \setminus \{ 1 \}$ entonces $(c, \mu) = g$ donde $c = ()$ es el camino constante en $P$ y $\mu = (g)$.
	Es una palabra reducida por cumplir la propiedad \textbf{R1}.
	Por el teorema \ref{teo_pal_red} tenemos que $|c,\mu| \neq 1$ por lo que  la proyección a $F(\cG)$ nos da un isomorfismo restringida a $G_P$ y así a $G_P$ lo podemos considerar un subgrupo de $F(\cG)$.
\end{proof}

\begin{coro}\label{coro_pal_red_2}
	Sea $\cG$ un grafo de grupos sobre un grafo finito y conexo $Y$, sea $c = y_0 \dots y_n$ un camino no constante y $(c, \mu)$ una palabra reducida entonces $|c, \mu| \notin G_{s(y_0)}$.
\end{coro}
\begin{proof}
	Vamos a suponer que esto no es cierto y contradecir el teorema \ref{teo_pal_red}.
	Sea $(c, \mu) = r_0y_1r_1\dots r_n$.
	Si no fuera cierto tendríamos que $|c,\mu| = x \in G_{s(y_0)}$. 
	Consideremos entonces otra palabra $(c,\mu')$ tal que $\mu' = (x^{-1}r_0, \dots, r_n)$ de manera que por como la tomamos $|c,\mu'| = 1$.
	Es una palabra reducida porque por suposición tenemos que $c$ no es el camino constante y aparte $\mu'$ es idéntica a $\mu$ salvo en la primera posición que no afecta la condición \textbf{R2}.
	Esto contradice \ref{teo_pal_red} por lo tanto $|c, \mu| \notin G_{s(y_0)}$.
\end{proof}

El siguiente corolario va resultarnos el de mayor utilidad porque en general vamos a trabajar con el grupo fundamental de un grafo de grupos.
El grupo fundamental de un grafo de grupos con respecto a un árbol generador $T$ es un cociente de $F(\cG)$. 
Sea $\pi: F(\cG) \to \pi_1(\cG,T)$ la proyección.

\begin{coro}\label{coro_pal_red_3}
	Sean $\cG$ un grafo de grupos sobre un grafo finito y conexo $Y$, $c$ un camino cerrado en $Y$, $T$ un árbol generador de $Y$ y $(c, \mu)$ una palabra reducida entonces $\pi(|c,\mu|) \neq 1$ en $\pi_1(\cG, T)$. 
\end{coro}
\begin{proof}
	Por el teorema \ref{teo_pal_red} tenemos que $|c,\mu| \neq 1$ en el grupo $F(\cG)$.
	A su vez por como elegimos a $(c, \mu)$ tenemos que es un elemento del grupo fundamental $\pi_1(\cG, P)$.
	Por el teorema \ref{teo_grp_fund_iso} tenemos que este grupo es isomorfo con el grupo fundamental $\pi_1(\cG, T)$ por medio de la proyección $\pi$ entonces esto termina de probar el resultado.
\end{proof}

Vamos a demostrar el teorema \ref{teo_pal_red}.
Para esto emplearemos una construcción previa que nos ayude a probarlo recursivamente a partir de grafos cada vez más chicos.


Sea $Y$ un grafo conexo y finito y sea $Y'$ un subgrafo conexo.
Consideremos el grafo $W = Y/Y'$.

\[\begin{tikzcd}
	& \color{rgb,255:red,214;green,153;blue,92}\bullet &  \color{rgb,255:red,214;green,153;blue,92} \bullet &&&  \color{rgb,255:red,214;green,153;blue,92} \bullet \\
	\bullet & \color{rgb,255:red,214;green,153;blue,92} \bullet &&&& \bullet \\
	\bullet &&&&&& \bullet \\
	& Y &&&& W = Y/Y' \\ 	
	\arrow[color={rgb,255:red,214;green,153;blue,92}, from=1-2, to=1-3]
	\arrow[color={rgb,255:red,214;green,153;blue,92}, from=1-2, to=2-2]
	\arrow[color={rgb,255:red,214;green,153;blue,92}, from=2-2, to=1-3]
	\arrow[from=2-1, to=1-2]
	\arrow[bend left=60, from=1-2, to=1-3]
	%\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=3-1]
	\arrow[from=1-6, to=3-7]
	\arrow[from=2-6, to=1-6]
	\arrow[loop, from=1-6, to=1-6]
\end{tikzcd}\]
Donde en este ejemplo distinguimos al subgrafo $Y'$ conexo con este \textcolor{rgb,255:red,214;green,153;blue,92}{color}.

Sea $W = Y / Y'$  el grafo que obtenemos de contraer $Y'$ a un vértice.
A este vértice lo llamaremos $[Y']$. 
Como el subgrafo $Y'$ es conexo también lo es $W$.
Formalmente el grafo $W$ está dado por los siguientes conjuntos de aristas y vértices.

\begin{enumerate}
	\item Los vértices son $V(W)= V(Y) \setminus V(Y') \cup \{ [Y'] \}$.
	\item Las aristas son $E(W) = E(Y) \setminus E(Y')$.
\end{enumerate}

Si las aristas no empiezan ni terminaban en $Y'$ dentro del grafo $Y$ al contraer el subgrafo siguen idénticas. 
En el otro caso las definimos para que terminen (o empiecen) en $[Y']$. 
Sea $y \in E(W)$ entonces:

\begin{equation*}
	s(y) = 
	\begin{cases}
	s(y),  & \text{si} \ s(y) \notin V(Y') \\ 
	[Y'], & \text{caso contrario}
	\end{cases}
\end{equation*}
y análogamente,
\begin{equation*}
	t(y) = 
	\begin{cases}
		t(y),  & \text{si} \ t(y) \notin V(Y') \\ 
		[Y']. & \text{caso contrario}
	\end{cases}
\end{equation*}


Consideremos un grafo de grupos $\cG$ sobre un grafo $Y$ finito y conexo. 
Tomemos $Y'$ un subgrafo conexo de $Y$ y restrinjamos el grafo de grupos $\cG$ a $Y'$. 
El grupo de este grafo de grupos restringido al subgrafo $Y'$ lo denotaremos $F(\cG | Y')$.
Por inducción supongamos que vale el teorema \ref{teo_pal_red} para este subgrafo $Y'$.
Entonces definamos el grafo de grupos $\cal H$ sobre el grafo conexo $W$ bajo esta suposición de la siguiente manera.
\begin{itemize}
	\item Si $P \in V(Y) \setminus V(Y')$, tomamos $H_P = G_P$;
	\item Si $P = [Y']$ entonces tomamos $H_P = F(\cG | Y')$.
	\item Si $y \in E(W)$ ponemos $H_y = G_y$ tal que como suponemos válido el resultado \ref{teo_pal_red} para $Y'$ tenemos que es un subgrupo.
\end{itemize}

Construyamos un morfismo de grupos $\beta:F(\cG) \to F(\cH)$.
Para eso primero lo definimos sobre los generadores.
Para todo $g \in G_P$ con $P \in V(Y)$ definimos,
\begin{equation*}
	\beta(g) = 
	\begin{cases}
		[g] \in H_P & \text{si} \ P \notin Y' \\
		[g] \in F(\cG | Y') & \text{si} \ P \in Y'  \\ 
	\end{cases}
\end{equation*}
y para toda arista $ y \in E(Y)$ definimos,
\begin{equation*}
	\beta(y) = 
	\begin{cases}
		y  & \text{si} \ y \notin E(Y') \\
		[y] \in F(\cG | Y') & \text{si} \ y \in E(Y')  \\ 
	\end{cases}
\end{equation*}

De manera que así como está definida cumple las relaciones de $F(\cG)$ porque en particular el grupo $F(\cH)$ también las cumple.
Obtenemos así que $\beta$ está bien definida.

\begin{lema}
	El morfismo de grupos $\beta:F(\cG) \to F(\cH)$ es un isomorfismo. 
\end{lema}
\begin{proof}
	Podemos construirnos un morfismo $\alpha:F(\cH) \to F(\cG)$ tal que sea su inversa.
	La construcción es análoga a la construcción que hicimos para $\beta$ definiendola sobre sus generadores.
	
	Para todo $g \in H_P$ con $P \in V(W) \setminus [Y'] $ definimos,
	\begin{equation*}
		\alpha(g) = [g]  \ \ 
	\end{equation*}
	y para toda arista $ y \in E(W)$ tal que no empiece ni termine en $[Y']$ definimos,
	\begin{equation*}
		\alpha(y) = [y]  \ \ \ 
	\end{equation*}
	En el caso de $F(\cG | Y')$ usamos que este grupo está generado por $y \in E(Y')$ y por $g \in G_{P}$ tales que $P \in Y'$.
	Sobre $F(\cG | Y')$ definimos 
	\begin{equation*}
		\alpha([g]) = [g]  \ \ 
	\end{equation*}
	para $g \in G_P$ si $P \in V(Y')$ e idénticamente para todas las aristas definimos
	\begin{equation*}
		\alpha([y]) = [y]  \ \ 
	\end{equation*}
	Es claro que es un morfismo de grupos que nos define un morfismo $\alpha:F(\cH) \to F(\cG)$ tal que es la inversa de $\beta$ anteriormente definida.
\end{proof}

La moraleja de este lema es que podemos tomar el grupo $F(\cG | Y')$ para un subgrafo $Y'$ conexo y después tomar el grupo $F(\cH)$ para el grafo resultante $Y / Y'$ y es exactamente lo mismo que tomar $F(\cG)$ en el comienzo con la ventaja que el grafo es más chico ahora.

Para cada palabra $(c, \mu)$ del grafo de grupos $F(\cG)$ le vamos a asociar una palabra $(c', \mu')$ de $\cH$ tal que $\beta (|c,\mu|) = |c',\mu'|$.
La idea es reemplazar las partes de la palabra que involucren a $Y'$ con las respectivas en $F(\cG | Y')$.
Dados $ 1 \le i \le j \le n$ llamemos $c_{ij}$ al camino $y_i \dots y_{j}$ y $\mu_{ij}$ a los elementos $(r_i, \dots, r_j)$.
Si $c_{ij}$ está contenida en $Y'$ denotaremos por $r_{ij}$ al elemento correspondiente visto en $F(\cG | Y')$.
De esta manera lo que haremos es pensar en todos los subintervalos $[i_a,j_a]$ tales que el camino $c$ está dentro del subgrafo $Y'$.
Así tenemos subdividido al intervalo $[1,n]$ de la siguiente manera,
\[
	1\le i_1 \le j_1 < i_2 \le j_2 < \dots i_m \le j_m \le n.
\]
Donde en particular si miramos la palabra $c_{j_{a-1}i_a}$ notemos que es un camino por fuera de $Y'$ exceptuando su comienzo y su final.

Definimos la palabra $(c', \mu')$ sobre los generadores de $F(\cH)$ como:
\begin{itemize}
	\item $c' = c_{j_1i_2} \dots, c_{j_{a-1}i_a},c_{j_{a}i_{a+1}} \dots, c_{j_{m-1}i_{m}}$
	\item $\mu' = \mu_{1i_1}, r_{i_1j_2}, \dots, r_{i_mj_m}, \mu_{j_m n}   $
\end{itemize}
donde tomamos la convención que $\mu_{1i_1}$ o bien $\mu_{j_m n}$ pueden ser la identidad si $i_1=1$ o bien si $j_m = n$.




Por como las construimos nos queda que $\beta(|c,\mu|) = |c',\mu'|$ tal como queríamos ver.
Veamos ahora que $\beta$ preserva las palabras reducidas. 
Esto nos permitirá trabajar en grafos de grupos cada vez más chicos a medida que vayamos contrayendo subgrafos conexos.

\begin{prop}\label{lema_pal_red_iso}
	Si $(c, \mu)$ es una palabra reducida para $F(\cG)$ entonces $(c', \mu')$ es reducida para $F(\cH)$.
\end{prop}
\begin{proof}
	Dividimos en dos casos dependiendo la longitud de $c'$.
	
	Si la longitud de $c'$ es  $0$ entonces es un camino constante en algún vértice $P' \in V(W)$. 
	En tal caso $\mu' = r'_0$.
	Si $P' \in V(W) \setminus [Y']$ entonces por como construimos al grafo de grupos $\cal H$ tenemos que $H_P = G_P$ y al ser $(c, \mu)$ una palabra reducida para $\cG$ obtenemos que $r_0 \neq 1$ visto en $H_P$.
	En el caso que $P' = [Y']$ nos queda que $r_0 \in F(\cG | Y')$ y por lo tanto es reducida usando el teorema \ref{teo_pal_red} inductivamente en el grafo $Y'$.
	
	Supongamos ahora que la longitud de $c'$ es al menos $1$, entonces si queremos ver que  $(c',\mu')$ es reducida debemos garantizar que cumpla \textbf{R2}.
	Sean $c' = w_1 \dots w_{n}$, $\mu' = r'_0, \dots, r'_n$ y sean $c = y_{1} \dots y_{k}$ , $\mu = r_{0} \dots r_{k}$.
	Queremos ver que si existe $1 \le k \le n$ tal que  $w_{k+1} = \ol{w_k}$ entonces $r'_k \notin H_{w_k}$.		
	El caso particular que $t(w_k) \neq [Y']$ tenemos que $(c', \mu')$ es reducida porque justamente $(c, \mu)$ lo es y por lo tanto cumple \textbf{R2}.
	Vamos a distinguir dos casos si $t(w_k) = [Y']$:
	\begin{enumerate}[i)]
		\item En el primer caso tenemos que  $w_{k} = y_i, w_{k+1} = \ol y_i$ para cierta $y_i$ que aparece en $c$.
		Esto nos dice que $s(w_k) \in V(W) \setminus [Y']$ y por lo tanto por como definimos a $(c', \mu')$ tenemos que $r'_k = r_i$ bajo esta hipótesis.
		Queremos ver que $r'_k \notin H_{\ol{w_k}}$.
		El grupo $H_{\ol{w_k}}$ es isomorfo a $G_{\ol{y_i}}$ aunque la diferencia es que el primero es un subgrupo de $H_{[Y]}$ mientras que el segundo es un subgrupo de $G_{t(y_i)}$.
		Por ser $(c, \mu)$ reducida tenemos que $r_i \notin G_{\ol{y_i}}$.
		Por el corolario \ref{coro_pal_red_1} tenemos que $G_{\ol{y_i}}$ es un subgrupo de $H_{[Y']} = F(\cG | Y')$ entonces $r'_k \notin H_{[Y']}$.
		
		\item En el otro caso tenemos que se corresponde a un camino no constante dentro de $Y'$.
		Siguiendo la notación introducida anteriormente tenemos que para cierto $a$ vale que $w_k = y_{i_a}, r'_k = r_{i_aj_a}$ y que $w_{k+1} = y_{j_{a+1}}$ donde bajo nuestras suposiciones tenemos que $w_{k+1} = \ol{w_{k}}$ por lo tanto $ y_{j_{a+1}} = \ol{y_{i_a}}$.
		
		Nuevamente queremos ver que se cumple \textbf{R2}. 
		Esto es que $r'_k \notin H_{\ol{w_k}}$.		
		Dado que el camino $c_{i_aj_a}$ no es constante, podemos aplicar el resultado \ref{coro_pal_red_2} al grafo de grupos $\cG$ restringido al subgrafo $Y'$ y obtenemos así que $r_{i_aj_a} \notin G_{t(y_{i_a})}$.
		Esto nos dice que en el grupo $F(\cH)$ tenemos que $r'_{k} = r_{i_aj_a} \notin H_{\ol{w_k}}$ dado que $H_{\ol{w_k}}$ es un subgrupo de $G_{t(y_{i_a})}$ si lo miramos dentro de $F(\cG, Y')$. 
	\end{enumerate}	
\end{proof}

Como último resultado previo veamos un lema que nos dice qué pasa cuando contraemos un subárbol de un árbol $Y$.

\begin{lema}\label{lema_subarbol_conexo}
	Si $Y$ es un árbol finito e $Y'$ es un subárbol de $Y$ entonces $W=Y/Y'$ es un árbol. 
\end{lema} 
\begin{proof}
	Debemos ver que $W$ es un grafo conexo y sin ciclos.
	Para cada vértice $P' \in V(W)$ consideremos $P$ su levantado en $Y$ tal que para el caso particular de $[Y']$ consideramos algún vértice $P \in V(Y')$ arbitrario.
	En el caso de las aristas cada arista $w \in E(W)$ se corresponde con una única arista $y \in E(Y)$.
	
	Para ver que es conexo tomemos dos vértices $P'_1,P'_2 \in V(W)$ y veamos de construir un camino entre ellos.
	Consideramos $P_{1}, P_{2} \in V(Y)$ sus levantados.
	Como el grafo $Y$ es conexo existe un camino $c$ que los une.
	De manera idéntica a cómo hicimos anteriormente podemos armarnos un camino $c'$ tal que los una sobre $W$.
	
	Para ver que \textit{no tiene ciclos} supongamos que $c'$ es un ciclo de $W$.
	Este ciclo tiene que pasar por $[Y']$ caso contrario tomando levantados de aristas y vértices conseguiríamos un ciclo en $Y$.
	Si levantamos este ciclo nos queda un camino $c$ en $Y$ tal que comienza y termina en $Y'$ y aparte cumple que ninguna de las aristas está en $E(Y')$.
	Por hipótesis tenemos que $Y'$ es conexo por lo tanto debe existir un camino $d$ con aristas contenidas en $Y'$ tal que une los extremos de $c$. 
	Concantenando $c$ con $d$ obtenemos un ciclo de $Y$ pero esto contradice que $Y$ es un árbol.
	
\end{proof}


Finalmente estamos en condiciones de probar el resultado central de esta sección. 

\paragraph{Demostración del teorema \ref{teo_pal_red}.}
Separamos en casos dependiendo cómo es el grafo $Y$.
	\begin{enumerate}
		\item El caso que $Y$ es un segmento.
		\[Y =  \begin{tikzcd}
			{P_{-1} \ \ \bullet} && {\bullet \ \ P_1}
			\arrow["y"{pos=0.6}, from=1-1, to=1-3]
		\end{tikzcd}\]
		El elemento $|c, \mu|$ es de la pinta $r_0y^{e_1}r_1y^{e_2}\dots y^{e_n}r_n$.
		Donde $e_{i} = -e_{i+1}$ para todo $i=1 \dots n$ y los elementos cumplen que $r_0 \in G_{P_{-e_1}}$ y $r_i \in G_{P_{e_i}} \setminus G_{y^{e_i}}$ dado que $(c, \mu)$ es una palabra reducida.
		El caso particular que nuestro camino es constante tenemos que $r_0 \neq 1$ porque vale \textbf{R1}.
		
		Para el otro caso en el cual  el camino $c$ no es constante consideremos el morfismo sobreyectivo al cociente $\pi_1(\cG,T)$ donde $T$ es el mismo segmento $Y$ en este caso.
		Por lo visto en el ejemplo \ref{ej_pi1_segmento} tenemos un isomorfismo $\pi_1(\cG, T) \simeq G_{P_{-1}} \ast_{G_y} G_{P_1}$. 
		
		\[
			\phi: F(\cG) \to G_{P_{-1}} \underset{G_y}{\Asterisk} G_{P_1}
		\]
		
		Bajo nuestra definición de las palabras reducidas para grupos amalgamados tenemos que $\phi(|c, \mu|)$ es una palabra reducida para $G_{P_{-1}} \underset{G_y}{\Asterisk} G_{P_1}$ entonces por \ref{prop_amalgamado_formanormal} concluimos que $|c, \mu|$ no es la identidad porque justamente $\phi(|c,\mu|) \neq 1$.

		
		\item El caso que $Y$ es un árbol. 
		Lo probamos usando inducción en la cantidad de aristas del grafo.
		Tomemos un segmento $Y'$ dentro del árbol donde ya sabemos que el resultado vale por el caso anterior.
		Por el lema \ref{lema_subarbol_conexo} vemos que el grafo $W = Y / Y'$ resulta ser un árbol y más aún podemos aplicarle la hipótesis inductiva dado que tiene menos vértices que $Y$. 
		De esta manera aplicando el paso inductivo obtenemos que vale este resultado para el grafo de grupos $\cH$ sobre $W$ por lo que $|c',\mu'| \neq 1$ y usando el lema \ref{lema_pal_red_iso} tenemos que $|c, \mu| \neq 1$.
		
		\item El caso que $Y$ es un bucle.
		\[
		Y = 	\begin{tikzcd}
			\overset{P}{\bullet} \arrow["y", loop, distance=2.5em, in=355, out=50]
		\end{tikzcd}
		\]
		
		En este caso el grupo $F(\cG)$ resulta ser isomorfo a $G_P^{\ast G_y}$.
		Por ser $(c, \mu)$ una palabra reducida para $F(\cG)$ vemos que esta condición en este caso coincide con la definición inicial de una palabra reducida para una extensión HNN.		
		Bajo estas condiciones podemos aplicar el lema de Britton \ref{teo_britton} que nos garantiza que $|c, \mu| \neq 1$ en el grupo $F(\cG)$ tal como queríamos ver.
		
		\item El caso general que $Y$ es un grafo finito conexo.
		Lo probamos por inducción en la cantidad de aristas. 
		Para eso tomamos $Y'$ un segmento o bien un loop dentro de $Y$ y luego aplicamos el resultado a $Y/Y'$.
		Por inducción en este caso vale el resultado y luego volviendo a usar el lema \ref{lema_pal_red_iso} terminamos de probarlo para un grafo $Y$ conexo y finito arbitrario.
	\end{enumerate}


\section{Árbol de Bass--Serre.}
En esta sección presentamos una construcción del árbol de Bass--Serre un poco más concisa que la que aparece en \cite{serre2002trees} si bien la idea es prácticamente la misma.
En cambio en el paper \cite{diekert2017context} construyen este árbol de una manera más sintáctica usando sistemas de reescritura.

Sea $\cG$ un grafo de grupos sobre un grafo $Y = (V,E)$ conexo tal que para todo $P \in V$ tenemos que $G_{P}$ es un grupo finito. 
Sea $T$ un árbol generador del grafo $Y$ luego llamemos $G = \pi_1(\cG,T)$.
Queremos construirnos un árbol $\Xm$ tal que $G$ actúe sobre este árbol sin inversiones de aristas y de manera que $Y = \Xm / G$.
Para construir este árbol vamos a partir de la siguiente observación.
Si $\tilde x \in \Xm$ luego por el teorema de órbitas estabilizador tenemos una biyección entre la órbita $G \tilde x $ y los cosets del estabilizador $G / G_{\tilde x}$.
De esta manera valiéndonos de esta observación definimos el conjunto de vértices de la siguiente manera,
\[
V(\Xm) = \bigsqcup_{v \in V(Y)} G/G_{v}
\]
mientras que las aristas van a ser este otro conjunto
\[
E(\Xm) = \bigsqcup_{y \in E(Y)} G/G_{y}.
\]
Para ver que sea un grafo nos falta definir cuales son los inicios y finales de estas aristas.
Recordemos que definimos que la imagen de $y \in F(\cG)$ en el cociente resulta ser $g_{y} \in \pi(\cG,T)$. 
Esto lo hacemos por medio de las siguientes fórmulas.
\[
t(gG_{y}) = gg_{y}G_{t(y)}
\]
y 
\[
s(gG_{y}) = gG_{s(y)}.
\]
Probemos primero que estas definiciones no dependen de la elección del representante del coset.

Arrancamos con la definición del inicio de una arista.
Si tenemos que $gG_{y} = hG_{y}$ esto nos dice que $h^{-1}gG_{y} = G_{y}$.
Como $G_{y}$ es un subgrupo de $G_{s(y)}$ entonces si $h^{-1}g \in G_y$ esto nos dice que $h^{-1}g \in G_{s(y)}$.
De esta manera $hG_{s(y)} = gG_{s(y)}$ tal como queríamos ver y por lo tanto el origen de una arista no depende de la elección del representante.


Ahora vamos a ver la definición del fin de una arista.
Si tenemos que $hG_{y} = gG_{y}$ luego queremos ver que $hg_{y}G_{t(y)} = gg_{y}G_{t(y)}$y esto ocurre si y solo sí $g^{-1}_y h^{-1}g g_{y} G_{t(y)} = G_{t(y)}$.
Usando una de las relaciones del grupo tenemos que $g_{y}^{-1} G_{y} g_{y} \subseteq G_{\ol y}$ y como $h^{-1}g \in G_{y}$ luego obtenemos que $g^{-1}_y h^{-1}g g_{y} \in G_{\ol y}$.
Por como definimos a los grafos de grupos tenemos que $G_{\ol y}$ es un subgrupo $G_{s(\ol y)}$ y como $s(\ol y) = t(y)$ terminamos de probar que $g^{-1}_y h^{-1}g g_{y} \in G_{t(y)}$ tal como queríamos ver.


Usando estas dos definiciones tenemos que para cada arista $gG_{y}$ la arista inversa tiene que ser:
\[
\ol{gG_{y}} = gg_{y} G_{\ol y}.
\]
tal que $s(gg_{y}G_{\ol y}) = gg_{y}G_{t(y)}$ y $t(gg_{y}G_{\ol y}) = gg_{y}g_{\ol y}G_{s(y)}$ y como $g_{y}g_{\ol y} = 1$ obtenemos así que $t(gg_{y}G_{\ol y}) = gG_{s(y)}$.
A su vez por una cuenta similar vemos que $\ol{\ol{gG_{y}}} = gG_{y}$.
De esta manera tenemos que $\Xm$ es un grafo dirigido.

Por como construimos a $\Xm$ nos aseguramos que $G$ actúa en $\Xm$ y que $\Xm / G \simeq Y$.
Sea $q:\Xm \to Y$ definida por $q(gG_{P}) = P$ para todo $P \in V$ y $q(gG_{y}) = y$ para toda $y \in E$.
Podemos chequear que $q$ así definida resulta ser un epimorfismo de grafos.

\begin{obs}\label{obs_levantado_arbol}
	Para todo $y \in E(T)$ tenemos que $g_y=1$. 
	Esto nos permite definirnos un \emph{levantado} $\widetilde{T}$ del árbol $T$ dado por mandar $P \mapsto  G_P$ para todo $P \in V(Y)$ y para las aristas mandar $y \mapsto  G_y$. 
\end{obs}

\begin{teo}[Serre]
	El grafo $\Xm$ es un árbol.
\end{teo}
\begin{proof}
	Debemos ver dos cosas: que es conexo y que no tiene ciclos.
	
	Empezamos probando que $\Xm$ es conexo.
	Consideremos $T$ el árbol generador de $Y$ elegido anteriormente para la construcción de $\Xm$. 
	Por la observación \ref{obs_levantado_arbol} tenemos que existe $\widetilde T$ un subárbol de $\Xm$ tal que es isomorfo a $T$ por medio de $q:\Xm \to Y$.
	A este árbol podemos agregarle las aristas $G_{y}$ para todo $y \in E \setminus E(T)$, notando que estas aristas cumplen que $s(G_{y}) = G_{s(y)} \in V(\widetilde T)$.
	Llamemos a este subgrafo $W$.
	Es un grafo conexo porque el árbol $\widetilde T$ lo era y las aristas que agregamos  intersecan a $\widetilde T$.	
	Dado que toda arista del tipo $G_y \in E(\Xm)$ está en $W$ obtenemos que $G \cdot W = \tilde X$.
	Es decir que el subgrafo conexo $W$ es un dominio fundamental de la acción de $G$ sobre $\Xm$.
	Esto quiere decir que podemos escribir a $\Xm$ de la siguiente manera:
	\[
		\tilde X = \bigcup_{g \in G} gW.
	\]
	donde $gW$ es conexo para todo $g \in G$ dado que $W$ lo es.
	Si $S$ es un conjunto finito de generadores de $G$ entonces para todo $g \in G$ lo podemos escribir como $g = s_{i_1} \dots s_{i_n}$ para $s_{i_j} \in S$.
	Si fijamos $g \in G$ definimos el siguiente conjunto,
	\[
		W_{g} = W \cup \bigcup_{j=1}^{n} s_{i_{j}}\dots s_{i_{n}}W.
	\]
	Entonces al grafo $\Xm$ lo podemos reescribir de la siguiente manera:
	\[
		\Xm =  \bigcup_{g \in G} W_{g}.
	\]
		
	
	Fijamos un conjunto finito de generadores, 
	\[
		S = \bigcup_{P \in V(Y)} G_{P} \cup \{ g_y \ : \ y \in E \setminus E(T) \}.   
	\] 
	
	Con este conjunto de generadores vamos a probar que para todo $g \in G$ resulta que $W_{g}$ es conexo.
	Si probamos esto como $\Xm$ es unión de $W_{g}$ y la intersección de $W_{g}$ con $W_{h}$ es no trivial para todo $g, h \in G$ luego tendremos que $\Xm$ es conexo tal como queríamos ver.
		
	
	Entonces nos alcanza con probar que $W_{g}$ es conexo.
	Para esto lo vamos a probar por inducción en la longitud de $g$ visto como palabra en los generadores $S$.
	
	Para el caso base tenemos que $g = s$ para $s \in S$.
	Queremos ver que $W \cup sW$ es conexo.
	Debemos ver dos casos dependiendo como sea el generador que estemos tomando.
	\begin{enumerate}
		\item Si $s=g_y$ para alguna arista $y \in E(Y)$ luego tenemos que $g_yG_y \in g_{y}W$.
		Queremos ver que $g_{y}G_{y} \in W$.
		Para eso notemos que por nuestra definición	$g_yG_y  = \ol G_y \in E(W)$.
		De esta manera $g_yW \cap W \neq \emptyset$ y por lo tanto la unión es conexa.		
		
		\item Si $s \in G_P$ para algún $P \in V$ entonces $s G_P = G_P \in V(sW)$ por lo tanto $sW \cap W \neq \emptyset$ y así la unión es conexa.
	\end{enumerate} 

	Ahora para el paso inductivo sigamos con la suposición de que $W_{g}$ es conexo para todo $g$ tal que puede ser escrito como una palabra de $n-1$ letras en $S$. 
	Queremos verlo para $g = s_1\dots s_n$ y esto lo podemos hacer notando que 
	\[
	s_1(s_2 \dots s_n) W \cap s_2 \dots s_{n} W \neq \emptyset 
	\]
	Por la misma cuenta que hicimos para el caso base.
	De esta manera si llamamos $g' = s_{1} \dots s_{n-1}$
	\[
		W_{g} = W_{g'} \cup s_{1}\dots s_{n}W
	\]
	luego por lo visto es una unión de conexos (acá usamos la hipótesis inductiva que nos garantiza que $W_{g'}$ es conexo) con intersección no vacía, por lo tanto $W_{g}$ es conexo.
	
	Vimos así que el grafo $\tilde X$ es conexo porque lo escribimos como unión de conexos que se intersecan de a pares.
	
	Veamos ahora que no tiene ciclos.
	Probaremos la proposición equivalente: para todo $n \in \NN$ no existe camino cerrado de longitud $n$ sin backtracking.
	Sea $\tilde c$ un camino sobre $\tilde X$ con estas propiedades. 
	Queremos llegar a un absurdo.
	Sea este camino $\tilde c = h_1G_{y_1}, h_2 G_{y_2}, \dots, h_n G_{y_n}$.
	Si miramos la proyección de los vértices tenemos una sucesión de vértices $P_0, \dots, P_n$ donde $P_n = P_0$ dado que el camino $\tilde c$ es cerrado por lo tanto su proyección también lo es.
	Introduzcamos la siguiente notación: sea $g_i = g_{y_i}$.
	Al ser $\tilde c$ un camino cerrado valen las siguientes igualdades,
	\begin{align*}
		t(h_n{G_y}_n) &= h_ng_nG_{P_0} = h_1G_{P_0} = s(h_1G_{ y_1}) \\ 
		\vdots \ \ \  &= \ \ \ \ \    \vdots\ \ \ \ \ \ \ \ \ \ \ \ \ \    \vdots \\
		t(h_{n-1}G_{y_{n-1}}) &= h_{n-1}g_{n-1}G_{P_{n-1}} = h_{n}G_{P_{n-1}} = s(h_nG_{P_{n-1}} )  
	\end{align*}
	de manera que existe $r_i \in G_{P_i}$ tal que $h_ig_ir_i = h_{i+1}$ para todo $1 \le i \le n$. 	
	Podemos reescribir las igualdades anteriormente obtenidas de la siguiente manera,
	\begin{align*}
		h_1 &= h_{n}g_{n}r_{n} \\
		h_2 &= h_1g_1r_1 \\
		\vdots & \ \ \ \vdots \\
		h_n &= h_{n-1}g_{n-1}r_{n-1} 
	\end{align*}
	Más aún usando cada ecuación para reescribirla en la anterior obtenemos que multiplicando todo de forma telescópica nos termina quedando lo siguiente,
	\begin{equation*}
		g_1r_1\dots g_nr_n = 1.
	\end{equation*} 
	
	
	Sea la palabra $(c, \mu)$ para $F(\cG)$ dada por el camino $c= q(\tilde c)$ y la sucesión $\mu = 1,r_1, \dots, r_n$.
	Sea $\pi:F(\cG) \to \pi_1(\cG,T)$ la proyección al cociente.
	Anteriormente vimos que $\pi(|c, \mu|) = g_1r_1\dots g_nr_n = 1$.
	Veamos que $(c, \mu)$ es una palabra reducida.
	Si probamos esto, entonces $(c, \mu)$ cumple las hipótesis del resultado \ref{coro_pal_red_3} dado que $c$ es un camino cerrado no trivial y es una palabra reducida por lo tanto $\pi(|c, \mu|) \neq 1$ y así llegaríamos a una contradicción.

	Para eso debemos chequear que se cumpla la condición \textbf{R2} de la definición de las palabras reducidas, ya que suponemos que $\tilde c$ tiene longitud al menos $1$.
	
	Supongamos que existe $i$ tal que $y_{i+1} = \ol{y_i}$ por lo que $g_{i+1} = g_{i}$.
	Queremos ver que para ese mismo $i$ vale que $r_i \notin G_{\ol{y_{i}}}$.
	Para eso miramos la ecuación que teníamos 
	\[
		h_ig_ir_i = h_{i+1}
	\]
	de manera que si despejamos a $r_{i}$ obtenemos que
	\[
		r_i =   g_i^{-1}(h_i^{-1} h_{i+1} )
	\]
	Supongamos que $r_{i} \in G_{\ol y_{i}}$, en tal caso tendríamos que 
	\[
		h_ig_i G_{\ol{y_i}} = h_{i+1}G_{\ol{y_i}}.
	\] 
	Esto nos dice que vale la siguiente igualdad 
	\[
	h_{i+1}G_{\ol y_{i}} = \ol{h_{i}G_{y_i}}
	\]
	pero esto es una contradicción porque al camino original $\tilde c$ lo habíamos tomado sin backtracking. 
	Por lo tanto $r_{i} \notin G_{\ol{y_{i}}}$ y así vemos que $(c, \mu)$ era reducida tal como queríamos ver.
	
\end{proof}


\begin{deff}
	Sea $\cG$ un grafo de grupos sobre un grafo conexo $Y=(V,E)$ tal que para todo $P \in V$ vale que $G_{P}$ es un grupo finito.	
	El grafo $\tilde X$ lo llamamos el \emph{árbol de Bass--Serre} de $\cG$.
\end{deff}
\section{Acciones de grupos sobre árboles.}

Sea $G$ grupo que actúa sin inversiones de aristas sobre un grafo conexo $X = (V(X),E(X))$.
Consideremos $Y = G / X$ el grafo que conseguimos al cocientar por esta acción.
Este grafo está dado por los siguientes vértices,
\[
	V(Y) = \{ G P :  P \in V(X)    \}
\]
y las  aristas 
\[
	E(Y) = \{  Gy  : y \in E(X)  \}.
\]

En particular como el grafo $X$ es conexo tenemos que $Y$ también lo es.
Esto nos define un morfismo de grafos que es la proyección $\pi: X \to Y$ tal que es un epimorfismo de grafos.
Consideremos $\iota: Y \to X$ una sección como conjuntos que la armamos con los siguientes dos pasos.
\begin{enumerate}
	\item Para cada vértice $P \in V(Y)$ elegimos $\iota (P) = P'$ tal que $\pi(P') = P$.
	\item Para cada arista $y \in E(Y)$ elegimos $\iota(y) = y'$ de manera que $s(\iota(y)) = \iota s(y)$. 
	Esto lo podemos hacer para cada arista por separado.
\end{enumerate}

Por como hicimos esta construcción nos garantizamos que el comienzo de cada arista cuando la miramos en $X$ sea uno de los vértices que tomamos como representantes de vértices de $Y$ en $X$.
En principio no sabemos que el vértice del final de la arista de $y$ coincida con el de comienzo de $y$. 
Lo que sabemos es que existe $g_y \in G$ tal que 
\[
	g_y \ol{\iota (y)} = \iota (\ol y)
\]
porque ambas aristas en la misma órbita por la acción de $G$.
Si fijamos una orientación de aristas para el grafo $X$ luego podemos elegir para cada arista de la orientación algún $g_y \in G$ tal que $g_y \ol{\iota (y)} = \iota (\ol y)$.
Para las aristas con la orientación opuesta tendremos algún $g_{\ol y} \in G$ tal que 
\[
	g_{\ol y} \ol{\iota(\ol y)} = \iota(y).
\]
Como la acción de $G$ sobre $X$ es por morfismos de grafos tenemos que $\ol {g y} = g \ol y$ y así queda claro que podemos elegir a $g_{\ol y} = g_{y}^{-1}$.
El caso particular que $\ol{\iota (y)} = \iota (\ol y)$ definiremos que $g_y = 1 = g_{\ol y}$.

De esta manera nos podemos construir $\cG$ un grafo de grupos sobre el grafo $Y$.
Consideremos para $P \in V(Y), y \in E(Y)$ los siguientes grupos,
\[
	G_P = G_{\iota (P)}, \ G_y = G_{\iota(y)}
\]
donde estamos mirando los estabilizadores de la acción de $G$ sobre $X$.
La primera observación es que la elección de $\iota$ no afecta los grupos que tomamos para los vértices y aristas porque de cambiar la elección de $\iota$ nos quedarían grupos conjugados porque los vértices o aristas correspondientes están en la misma órbita de la acción de $G$.
Por otro lado notemos que por esta definición tenemos que $G_y \simeq G_{\ol y}$.
Consideremos el siguiente morfismo de grupos;
\begin{align*}
	\phi: G_{\ol y} &\to G_{y} \\
	a &\mapsto g_{y}^{-1}ag_{y}
\end{align*}
que está bien definido porque justamente $g_y \iota(y) = \ol{\iota(\ol y)}$ dado que $g_y \ol{\iota(y)} = \iota (\ol y)$ por como lo elegimos a $g_y$ y porque $\ol{gw} = g \ol w$ para toda $w \in E(X)$.
Ahora usamos que si $a \in G_{\iota{\ol y}}$ luego $a \in G_{\ol{\iota(\ol y)}}$ por lo tanto $a \ol{\iota(\ol y)} = \ol{\iota(\ol y)} $.
Finalmente como $ g_{y}^{-1} \ol {\iota (\ol y) } = \iota (y)$ tal como queríamos ver.

Definimos el siguiente morfismo del producto libre de los estabilizadores de los vértices y el grupo libre en las aristas del grafo en el grupo $G$.
\begin{align*}
	\varphi: \ast_{P \in V(Y)} G_P \ast F_{E(Y)} &\to G	\\
	g \mapsto g \\
	y \mapsto g_y \\
\end{align*}
Probemos que este morfismo baja a $F(\cG)$. 
Para eso veamos que cumple las relaciones que definen a este cociente.
\begin{enumerate}
	\item $g_y g_{\ol y} = 1$ para todo $y \in E(Y)$ porque justamente elegimos a $g_{\ol y}$ de esta manera;
	\item $\ol y a y = a^{\ol y}$ para todo $y \in E(Y), a \in G_y$ porque justamente vimos que 
	\[
		\varphi(\ol y) \varphi (a) \varphi(y) = g_y^{-1}ag_y = a^{\ol y}
	\]
\end{enumerate}

De esta manera tenemos definido un morfismo de grupos $\varphi: F(\cG) \to G$.
Nuestro objetivo ahora es ver que este morfismo baja al grupo fundamental del grafo de grupos sobre un árbol de expansión.

Recordemos que $G_{P}$ lo podemos ver como un subgrupo de $\pi_1(\cG,T)$.
\begin{lema}\label{lema_morfismo_pi1_inyectivo}
	Para todo $g \in G_P$ tenemos que $\varphi(g)=g$.
\end{lema}

\begin{proof}
	Dado $g \in G_P \le \pi_1(\cG, P)$ luego lo podemos representar en el grupo $\pi_1(\cG, P)$ por medio de la palabra reducida $g$.
	Por como está definido $\varphi$ sabemos que $\varphi(g) = g$. 
\end{proof}


\begin{obs}
	En particular si consideramos que para una arista $y \in E(X)$ tenemos que $G_y$ es subgrupo de $G_{s(y)}$ luego la restricción de $\varphi$ a $G_{y}$ también resulta ser un isomorfismo de grupos.
\end{obs}

\begin{prop}\label{prop_morf_grp_restr_sobre}
	El morfismo de grupos $\varphi: F(\cG) \to G$ restringido al subgrupo $\pi_1(\cG, P)$ es sobreyectivo.
\end{prop}

\begin{proof}
	Dado $g \in G$ queremos ver que $g \in \varphi(\pi_1(\cG, P))$.
	Sea $P \in \iota(V(Y))$ un vértice.
	Consideremos $gP \in V(X)$, como el grafo es conexo tenemos un camino que une a $P$ con $gP$. 
	Sea este camino 
	
	\begin{center}
		\begin{tikzcd}
			e_0P_0 \arrow[r, "e_0 \iota(y_1)", bend left] & e_1 P_1 \arrow[r, "e_1\iota (y_2)", bend left] & \dots \arrow[r, bend left] & e_{k-1}P_{k-1} \arrow[r, "e_{k-1} \iota(y_k)", bend left] & e_kP_k
		\end{tikzcd}
	\end{center}
	


	de manera que $P_i \in V(\iota (Y))$ y en particular $P_0 = P, P_k = P$ siguiendo nuestra notación anterior y así $s(\iota (y_i)) = P_{i-1}$ por como tomamos las levantadas de las aristas.
	Los elementos $e_i \in G_{s(\iota (y_i))}$ son tales que $e_i t(\iota (y_{i+1})) = P_{i+1}$ y donde en particular tenemos que $e_k P = g P$.
	
	Una primera observación que podemos hacer es que $g e_k^{-1} \in G_P$ dado que  $e_k P = g P$.
	Por el resultado anterior \ref{lema_morfismo_pi1_inyectivo} tenemos que $\varphi(h) = h $ para todo $h \in G_P$.
	Esto nos dice que al ser $\varphi$ un morfismo de grupos luego 
	\[
	(ge_k^{-1}) e_k = g
	\]
	entonces como $ge_k^{-1} \in G_P \le \pi_1(\cG, P)$ luego si vemos que $e_k \in \varphi(\pi_1(\cG, P))$ probaríamos que $g \in \varphi (\pi_1(\cG,P))$ tal como queríamos ver.
		
	Para ver esto lo probaremos por inducción en el camino que tomamos anteriormente.
	Veamos que $e_i \in \varphi(\Pi_1(\cG, P, P_i))$ para todo $i = 0 \dots n$.
	
	El caso base consiste en ver que $e_0 \in \varphi(\Pi_1(\cG, P))$.
	Esto es cierto porque justamente tenemos que $e_0 \in G_P$ y por el lema anterior \ref{lema_morfismo_pi1_inyectivo} tenemos que $\varphi$ es la identidad cuando la restringimos a $G_P$.
	
	Para el paso inductivo supongamos que $e_{i-1} \in \varphi(\cG, P, P_{i-1})$ y queremos ver que $e_i \in \varphi(\cG, P, P_{i})$.
	Antes de probar esto veamos de reescribir a $e_i$ en términos de $e_{i-1}$.
	Observemos que por como tomamos el camino tenemos que
	\[
		e_{i-1} t(\iota (y_i)) = e_i P_i 
	\]
	y de esta manera obtenemos que $t(\iota (y_i)) = e_{i-1}^{-1} e_i P_i$ y como donde termina una arista es donde empieza la arista con orientación opuesta tenemos que $s(\ol{\iota(y_i)}) = e_{i-1}^{-1} e_i P_i$. 
	Por como definimos al elemento del grupo $g_{y_i} \in G$ tenemos que $g_{y_i} \iota (\ol y_i) = \ol{\iota (y_i)}$ por lo tanto obtenemos que 
	\[
		s(g_{y_i} \iota (\ol{y_i})) = g_{y_i} P_i
	\]
	de esta manera obtenemos que $g_{y_i} P_i = e_{i-1}^{-1} e_i P_i$ y por lo tanto llegamos a la siguiente escritura para $e_i$,
	\begin{equation*}
		e_{i-1}g_{y_i} h_i  = e_i 
	\end{equation*}
	donde $h_i \in G_{P_i}$. 
	
	Ahora podemos usar nuestra hipótesis inductiva para obtener un camino 
	\[
		h_0y_0 \dots y_{i-1}h_{i-1} \in \Pi_1(\cG, P, P_i)
	\]
	de manera que $e_{i-1} =  \varphi(h_0y_0 \dots y_{i-1}h_{i-1})$. 
	Recordemos que $\varphi(y_i) = g_{y_i}$ por la definición de nuestro morfismo $\varphi$ y por otro lado tenemos que $\varphi(h_i) = h_i$ porque $\varphi$ fija a los grupos $G_{P_i}$ por definición también.
	Con esto concluímos la siguiente igualdad,
	\[
		e_i = \varphi(h_0y_0 \dots y_{i-1}h_{i-1} y_i h_i)
	\]
	y como $h_0y_0 \dots y_{i-1}h_{i-1} y_i h_i \in \Pi_1(\cG, P, P_i)$ terminamos de probar que $e_{i} \in \varphi(\Pi_1(\cG, P, P_i))$ tal como queríamos ver. 
	En particular con esto probamos que $e_k \in \varphi(\cG, P)$ y esto implica que $g \in \varphi(\cG, P)$ tal como queríamos ver.
	De esta manera la restricción de $\varphi$ al subgrupo $\pi_1(\cG, P)$ es sobreyectiva.
\end{proof}

Veamos ahora que naturalmente este morfismo se factoriza por el cociente $\pi_1(\cG, T)$, pero antes debemos ver que podemos levantar al árbol de expansión de un cociente para que sea un subgrafo del grafo del cual tomamos el cociente.

\begin{prop}
	Sea $X$ grafo conexo, $G$ grupo que actúa sin inversiones sobre $X$.
	Llamemos $Y= X / G$ y sea $\pi:X \to Y$ la proyección. 
	Sea $T$ árbol de expansión de $Y$.
	Entonces podemos tomar $\iota:V(Y) \to V(X)$ tal que si nombramos $T' = \iota(T)$ resulta ser un subgrafo de $X$.
\end{prop}

\begin{proof}
	La idea es usar el Lema de Zorn.
	Sea el siguiente conjunto
	\[
		\Omega = \{ (T', \iota)	  \ | \   T' \ \text{subárbol de} \ X, \ \iota \circ \pi(T') = T' \}
	\]
	tal que si consideramos la inclusión para la primer coordenada y que las inclusiones coincidan entonces obtenemos un conjunto parcialmente ordenado.
	
	Podemos ver que $\Omega$ es no vacío porque $G$ actúa sin inversiones entonces podemos levantar una arista $Ge = (Gx,Gy) \in E(T)$ a una arista $\iota (Ge) = (x,y) \in V(X)$ tal que este subgrafo y el levantado $\iota$ va a estar en $\Omega$.
	
	Similarmente podemos ver que toda cadena $(T'_i)_{i \in I}$ tiene un elemento maximal justamente tomando la unión de todos los subgrafos $T' = \cup_{i \in I} T'_{i}$ y definiendo $\iota(Gv) = v$ si existe $T_{i}$ tal que $v \in T_{i}$.
	
	Sea $T'$ maximal podemos ver que está en biyección con $T$.
	Caso contrario podríamos levantar una arista $Ge$ tal que $Ge=(Gv,Gw)$ con $\iota(Gv) \in T'$ pero $Gw \notin T'$ y luego elegimos $e$ tal que $s(e) = v$ y extendiendo a $\iota$ contradecimos la maximalidad de $T'$.	
	
\end{proof}

\begin{coro}
	La restricción del morfismo $\varphi: \pi_1(\cG, P)$ se factoriza por el cociente $\pi_1(\cG, T)$.
\end{coro}
\begin{proof}
	Por la proposición anterior tenemos que al levantado $\iota(Y)$ lo podemos tomar para que sea un subgrafo.
	Esto nos dice que $\iota(\ol y) = \ol {\iota (y)}$, por lo tanto notemos que $\varphi(\iota(y)) = 1$ por como definimos $\varphi(y)$ anteriormente.
	Esto nos dice que el morfismo se factoriza por el cociente $\ol \varphi:\pi_1(\cG, T) \to G$.
\end{proof}

\subsubsection{Morfismo de grafos $\psi$.}

Construyamos un morfismo de grafos del árbol de Bass--Serre en el grafo $X$ que vendría a ser el análogo al revestimiento.

Sea la asignación $\psi: \Xm \to X$ dada por 
\begin{align*}
	\psi(g G_P ) = \varphi(g) P \ \ \text{para todo} \ g \in G, P \in V(Y) \\
	\psi(g G_y ) = \varphi(g) \iota(y) \text{para todo} \ g \in G, P \in V(Y)
\end{align*}

Veamos que es una función.
Sean dos representantes $g,h$ del mismo coset de $G_P$. 
Queremos ver que $\psi(gG_P) = \psi(hG_P)$.
Para esto notemos que por la definición de $\psi$  esto equivale a ver que $\varphi(g) = \varphi(h)$.
Dado que $gh^{-1} \in G_P$ luego tenemos que $\varphi(gh^{-1}) = gh^{-1}$ porque $\varphi$ restringida a $G_P$ es la identidad por el resultado \ref{lema_morfismo_pi1_inyectivo}.

\begin{lema}
	La función $\psi: \Xm \to X$ resulta ser un morfismo de grafos.
\end{lema}

\begin{proof}
Para ver que es un morfismo de grafos nos basta ver que manda vértices en vértices, aristas en aristas y respeta comienzo de aristas y la asignación de las aristas opuestas.
Por como lo definimos está claro que manda vértices en vértices y aristas en aristas.

Veamos que respeta el comienzo de las aristas.
Sea una arista $gG_y y \in V(\Xm)$ luego tenemos que 
\begin{align*}
s(\psi(gG_y  )) &= s (\varphi(g)  y) =  \varphi(g) s(y) 	\\ 
\psi(s(gG_y ))  &= \psi(gG_{s(y)} ) = \varphi(g){s(y)} \\
\end{align*}	

Finalmente veamos que respeta la asignación de las aristas opuestas.	
Dada una arista $g G_y y$ tenemos que ver que $\psi(\ol{g G_y y}) = \ol{\psi(g G_y y)}$.	
Para esto recordemos que siguiendo nuestra notación $\ol{g G_y y} = gyG_{\ol y} \ol y $ por lo tanto tenemos que 
\begin{align*}
\psi(\ol{gG_y  }) &= \psi(gyG_{\ol y}) = \varphi(gy) G_{\ol y}  =         \\ 
&= \varphi(g)\varphi(y) G_{\ol y}  = \varphi(g) g_y \ol y = \varphi(g) \iota(y) \\
\ol{\psi(gG_y )} &= \ol{ \varphi(g) \iota(y) } = \varphi(g) \ol{ \iota(y)} 
\end{align*}
Con esto terminamos de probar que $\psi$ es un morfismo de grafos.
\end{proof}


Dado un vértice $x \in V(X)$ podemos definir su \emph{star} como el siguiente conjunto de aristas,
\[
	st(x) = \{  y \in E(Y) : s(y) = x  \}
\]

Como queremos que nuestro morfismo $\psi$ represente un morfismo de revestimientos le vamos a pedir que localmente tenga buenas propiedades. 
En particular vamos a pedirle que mande un star de un vértice inyectivamente en dentro del star del otro vértice.

\begin{deff}
	Un morfismo de grafos $\psi:\Gamma \to \Gamma'$ se dice \emph{localmente inyectivo} si para todo vértice $P \in V(\Gamma)$ resulta que $\psi: st(P) \to E(\Gamma')$ es inyectiva. 
\end{deff}

Probemos ahora que nuestro morfismo de grafos $\psi$ cumple esta propiedad.

\begin{prop}
	El morfismo $\psi: \Xm \to X$ es sobreyectivo y localmente inyectivo.
\end{prop}
\begin{proof}
	Primero veamos que es sobreyectivo.
	Sabemos que $G \cdot Y = X$ si miramos a $Y$ como subgrafo de $X$.
	Consideremos un vértice $gP \in V(X)$. 
	Por el resultado anterior \ref{prop_morf_grp_restr_sobre} sabemos que el morfismo de grupos $\varphi$ resulta ser sobreyectivo.
	De esta manera tenemos que para $g$ existe $h \in G$ tal que $\varphi(h) = g$. 
	Luego alcanza con tomar como vértice a $h G_P $ de manera que 
	\[
	\psi(h G_P ) = \varphi(h) P = g P 
	\]
	tal como queríamos ver.
	
	
	Finalmente veamos que es localmente inyectivo.
	Sea $gG_{P} \in V(\Xm)$ vértice. 
	Sean $aG_{y},bG_{y' }\in E(\Xm)$ aristas tales que $s(aG_{y}) = gG_{P} = s(bG_{y' })$.
	Consideraremos dos casos dependiendo si las aristas correspondientes en el grafo $Y$ son idénticas o no lo son.
	
	\begin{enumerate}
		\item Supongamos primero que $y \neq y'$.
		En este caso tenemos que $\psi(aG_{y}) = \varphi(a) \iota (y)$ mientras que $\psi(bG_{y'}) = \varphi(b) \iota (y')$.
		Como son elementos de órbitas distintas no pueden ser el mismo elemento y de esta manera concluimos que $\psi(aG_{y}) \neq \psi(bG_{y'}).$
		
		\item El otro caso es que $y=y'$. 
		Veamos que por una cadena de equivalencias que la función $\psi$ es coincide en estas aristas si y solo sí son idénticas.
		Esto nos dice que
		\[
			\psi(aG_{y}) = \psi(bG_{y}) \iff \varphi(a) \iota(y) = \varphi(b)\iota(y)
		\]
		y esto es equivalente a $\varphi(a^{-1}b) \in G_{y}$.
		Por el resultado anterior \ref{prop_morf_grp_restr_sobre} tenemos que $\varphi$ se restringe a un isomorfismo entre los estabilizadores.
		De esta manera tenemos que $a^{-1}b \in G_{y}$ y así que equivalentemente $aG_{y} = bG_{y}$.
		
	\end{enumerate}
\end{proof}

El siguiente resultado nos va a garantizar que el morfismo $\psi: \Xm \to X$ sea un isomorfismo de grafos pidiéndole a $X$ ser un árbol.

\begin{prop}\label{prop_loc_iny}
	Sea $T$ un árbol y sea $\Gamma$ un grafo conexo entonces todo morfismo de grafos $\psi:\Gamma \to T$ localmente inyectivo es un monomorfismo de grafos.    
\end{prop}
\begin{proof}
	Como el grafo $\Gamma$ es conexo debe existir un camino de vértices $P=P_0 \dots P_k=Q$.
	Consideremos que este camino está reducido.
	Probemos por inducción en la longitud del camino que para puntos $P,Q \in V(X)$ a distancia menor que $n$ no vale que $\psi(P) = \psi(Q)$.
	
	El caso base es que la longitud del camino sea exactamente $1$.
	En este caso tenemos que $\psi(P) = \psi(Q)$ donde $y \in E(Y)$ tal que $s(y)= P, t(y) = Q$.
	Al ser $\psi$ un morfismo de grafos tenemos que 
	\begin{equation*}
		s(\psi(y)) = \psi(P) = \psi (Q) = t(\psi(y))
	\end{equation*}
	por lo tanto si $\psi(y)$ fuera una arista sería un bucle.
	Los grafos los tomamos para que no tengan bucles.
	
	El paso inductivo partimos de un camino de aristas $(y_1, \dots, y_n)$ reducido.
	Consideremos la imagen del camino por medio del morfismo.
	Como estamos en un árbol no puede haber ciclos, de esta manera tiene que ser que $\psi(y_k) = \ol{\psi (y_{k+1})}$ para ciertas aristas $y_k, y_{k+1} \in E(\Gamma)$.
	Como $\psi$ es un morfismo de grafos cumple que $\ol {\psi(y_k)} = \psi(\ol y_k)$ y así de esta manera obtenemos que $\psi(y_k) =  \psi(\ol{y_{k+1})}$.
	Como el morfismo es localmente inyectivo y ambas aristas parten del mismo vértice tenemos que $y_{k+1} = \ol{y_k}$. Esto es una contradicción porque asumimos que el camino que tomamos es reducido.    
\end{proof}

El siguiente resultado nos da la estructura de un grupo que actúa sobre un grafo conexo sin inversiones de aristas. 
Es el resultado central de la teoría de Bass--Serre.

\begin{teo}[\cite{serre2002trees}]\label{teo_Serre}
	Sea $G$ un grupo que actúa en un grafo conexo $X$ sin inversiones de aristas y sea $\cG$ el grafo de grupos asociado sobre $Y = X / G$.
	Consideremos $T$ un árbol de expansión de $Y$ y los morfismos $\psi: \Xm \to X$ y $\varphi: \pi_1({\cal G}, T) \to G$.
	Luego las siguientes afirmaciones son equivalentes.
	\begin{enumerate}[(a)]
		\item el grafo $X$ es un árbol;
		\item el morfismo $\psi: \Xm \to X$ es un isomorfismo de grafos;
		\item el morfismo $\varphi:\pi_1({\cal G}, T) \to G$ es un isomorfismo de grupos.
	\end{enumerate}
\end{teo}

\begin{proof}	
		 La implicación \textbf{a $\Rightarrow$ b} la hacemos usando la proposición \ref{prop_loc_iny} dado que $\psi$ es localmente inyectivo.
		 Para ver \textbf{b $\Rightarrow$ a} usamos que $\Xm$ es un árbol por lo tanto $X$ al ser isomorfo también es un árbol.
		 
		 Probemos \textbf{b $\Rightarrow$ c}. 
		 Para eso notemos que al ser $\varphi$ sobreyectivo nos alcanza con ver que es inyectivo.
		 Si $g \in \pi_1({\cal G}, T)$ y $g \neq 1$ tal que $\varphi(g)= 1$ entonces necesariamente $g \notin G_P$ por el lema anterior \ref{lema_morfismo_pi1_inyectivo} dado que la restricción a estos subgrupos es la identidad.
		 Esto nos dice que $g G_P P \neq G_P P$ dado que los cosets $gG_P$ y $G_P$ son distintos. Por como definimos a $\psi$ tenemos que 
		 \[
		 \psi (gG_P ) = \varphi(g) P  = \psi(G_P )
		 \] 
		 pero esto contradice que $\psi$ sea un isomorfismo.
		 
		 Finalmente probemos \textbf{c $\Rightarrow$ b}. 
		 Para esto como $\psi$ es sobreyectivo nos alcanza con ver que es inyectivo.
		 Sean $gG_P, hG_Q \in V(\Xm)$ tales que $\psi(gG_P) = \psi(hG_Q)$.
		 Por la definición del morfismo $\psi$ obtenemos que 
		 \[
		 	\varphi(g)P = \varphi(h)Q
		 \]
		 pero esto nos diría que $P = Q$ dado que ambos son representantes de las órbitas de la acción de $G$ sobre el árbol $T$. 
		 Por otro lado obtenemos que $\varphi(g h^{-1}) P  =  P$ y así $\varphi(gh^{-1}) \in G_P$. 
		 Como $\varphi$ es un isomorfismo y en particular es inyectiva restringida al subgrupo $G_P$ por la proposición \ref{prop_morf_grp_restr_sobre} deducimos que $gh^{-1} \in G_P$.
		 Por lo tanto vimos que los dos vértices son idénticos $gG_P  = hG_Q$ y de esta manera probamos que $\psi$ es inyectiva.
\end{proof}

Como corolarios obtenemos una caracterización para los grupos libres que usaremos varias veces y que es una herramienta fundamental de la teoría geométrica de grupos.

\begin{coro}\label{coro_libre_sii_actua_arbol}
	Un grupo $G$ es libre si y solo sí $G$ actúa libremente sobre un árbol sin inversiones de aristas. 
\end{coro}
\begin{proof}
	Si $G$ es libre entonces su grafo de Cayley lo podemos tomar como un árbol y usamos que actúa libremente sobre él sin invertir aristas.
	
	Para la vuelta usamos \ref{teo_Serre} porque en tal caso tenemos que $G$ isomorfo a $\pi_1(\cG, T)$ y este grupo es libre por ser el grupo fundamental de un grafo dado que los estabilizadores son triviales por hipótesis.
\end{proof}

\begin{coro}\label{coro_niels_sch}
	Dado $G$ un grupo libre todo subgrupo $H$ de $G$ resulta ser libre.
\end{coro}
\begin{proof} 
	Usando el corolario \ref{coro_libre_sii_actua_arbol} tenemos que $G$ actúa libremente sobre un árbol sin inversiones.
	En particular H actúa sin inversiones y libremente sobre el mismo árbol que actúa $G$ y esto nos dice que es libre.
\end{proof}

Otra consecuencia de este teorema de Serre es un resultado obtenido por Karass, Pietrowski y Solitar que nos da una cota de qué tan grande puede ser un subgrupo libre dentro de un grupo fundamental de un grafo finito de grupos finitos.
Este resultado generaliza la fórmula de Schreier para subgrupos libres.


Primero probamos el siguiente lema sobre grupos libres que nos va a ayudar en la demostración de esta fórmula.

\begin{lema}\label{lema_libre_torsion}
	Todo \fg libre no tiene torsión.
\end{lema}
\begin{proof}
	El grafo de Cayley de un grupo libre se puede tomar para que sea un árbol.
	Si tuviera torsión tendría un ciclo contradiciendo que es un árbol.
\end{proof}


\begin{prop}\cite{karrass1973finite}\label{prop_karrass_formula}
	Sea $\cal G$ un grafo de grupos finito tal que los grupos de los vértices y aristas también son finitos.
	Sea $G = \pi_1 ({\cal G}, T)$ y sea $F$ un subgrupo libre de $G$ de índice finito con rango finito $r(F)$.
	Luego la siguiente fórmula vale:
	
	\begin{equation*}
		\frac{r(F) - 1}{(G:F)} = \sum_{y \in E(Y)} \frac{1}{2 \cdot |G_y|} - \sum_{P \in V(Y)} \frac{1}{|G_P|}.
	\end{equation*}
\end{prop}
\begin{proof}
	Sea $\tilde X$ el árbol de Bass--Serre para este grafo de grupos $\cG$.
	Notemos que $F$ no interseca a ningún subgrupo de $G$ que sea isomorfo a $G_P$ para ningún $P \in V(Y)$. 
	Esto porque el grupo $F$ es libre y $G_P$ es finito por lo tanto la intersección tendría torsión pero por el lema \ref{lema_libre_torsion} ningún grupo libre tiene torsión.
	
	Sea $\cal H$ el grafo de grupos sobre $\Xm/F$ construído a partir de la acción del subgrupo $F$.
	Sea $T'$ un árbol de expansión del grafo $\Xm/F$.
	Dado que $\tilde X$ es un árbol estamos en las hipótesis para usar \ref{teo_Serre} y de esta manera obtenemos que $F \simeq \pi_1 (\cH, T')$.
	Usando esto calculemos el rango del grupo libre contando todas las aristas que no pertenezcan al árbol $T'$.
	Recordemos que al ser un árbol de expansión tenemos que $\tfrac{1}{2}|E(T')| = |V(\Xm / F)| - 1$. 
	De esta manera dado que los estabilizadores por la acción de $F$ son triviales tenemos el siguiente isomorfismo $\pi_1(\cH, T') \simeq F_{\Sigma}$ donde $\Sigma$ es un conjunto finito que resulta tener el siguiente orden 
	\[
		|\Sigma| = \dfrac{|E(\Xm/F) \ \setminus \ E(T')|}{2},
	\]
	multiplicamos por $\tfrac{1}{2}$ porque todas las aristas las contamos una vez por cada una de las dos orientaciones que tienen.
	Por lo tanto el rango de $F$ lo podemos calcular como el orden del conjunto $\Sigma$.
	\begin{align*}
		r(F) &= \frac{1}{2} (|E(\Xm / F)| - |E(T')|) \\
		&= \frac{1}{2} |E(\Xm / F)| - |V(\Xm / F) | - 1
	\end{align*}
	
	Finalmente para obtener la fórmula que queremos probar tenemos que usar como está construido el árbol de Bass--Serre $\Xm$.
	\begin{equation*}
		|V(\Xm / F)| = \sum_{P \in V(X)} |(G/G_P)/F|
	\end{equation*}
	y acá usamos que que la cantidad de cosets de $(G/G_P)/F$ es la misma que hay en $(G/F)/G_P$
	por lo tanto 
	\begin{equation*}
		|V(\Xm / F)| = \sum_{P \in V(X)} \dfrac{(G:F)}{|G_P|}.
	\end{equation*}
	Similarmente obtenemos una expresión análoga para las aristas y así terminamos de probar la validez de la fórmula.
\end{proof}


Finalmente podemos probar que grupo fundamental de un grafo de grupos finito con grupos finitos es virtualmente libre. 
Antes de probar esto necesitamos un lema sobre acciones en conjuntos finitos.

\begin{lema}\label{lema_acciones_finitas}
	Sea $G$ un grupo que actúa libremente sobre un conjunto finito $X$ de dos maneras distintas $\alpha, \beta : G \to S(X)$. 
	Entonces debe existir $\varphi \in S(X)$ tal que para todo $g \in G$ valga que 
	\[
	\alpha (g) = \varphi^{-1} \circ \beta(g) \circ \varphi.
	\]
\end{lema}
\begin{proof}
	Tomamos representantes para cada acción $R,S \subseteq X$ tales que
	\[
		\bigsqcup_{r \in R} \alpha(G) (r) = \bigsqcup_{s \in S} \beta(G) (s)
	\]
	donde la unión es disjunta como órbitas de esta acción. 
	Como ambas acciones son libres resulta que $\alpha(G)(r)$ y $\beta(G)(s)$ tienen cardinal exactamente $|G|$ usando que $X$ también es finito.
	De esta manera vemos que $|R| = |X| / |G| = |S|$ por lo tanto existe una biyección $\varphi$ entre ambos conjuntos que la extendemos a todo $X$ de la siguiente manera,
	\[
		\varphi (\alpha(g) r) = \beta(g)  s
	\]
	siempre y cuando $\varphi(r) = s$. 
	Esta biyección cumple todo lo que queríamos.
\end{proof}


\begin{teo}\cite{karrass1973finite}
	Sea $\cal G$ un grafo de grupos sobre un grafo finito $Y$ con grupos finitos en los vértices.
	Entonces $\pi_1(\cal G)$ es un \fg virtualmente libre.
\end{teo}
\begin{proof}
	Dado que el grafo $Y$ es finito y para todo $P \in V(Y)$ los grupos $G_P$ también son finitos podemos tomarnos $X$ un conjunto finito de manera que
	\[
		|X| = \prod_{P \in V(X)} |G_P|.
	\] 
	
	Para cada $P \in V(Y)$ podemos armarnos una acción libre de $G_P$ en $X$. 
	Esto nos da un monomorfismo $G_P \to S(X)$.
	A su vez por cada grupo $G_y$ con $y \in E(Y)$ obtenemos dos acciones libres sobre $X$ dependiendo con qué inclusión lo estamos mirando.
	Por el lema \ref{lema_acciones_finitas} podemos elegirnos para cada $y \in E(Y)$ alguna $\varphi_y \in S(X)$ tal que haga conmutar al siguiente diagrama
	\[\begin{tikzcd}
		& {G_{s(y)}} && {S(X)} \\
		{G_y} \\
		& {G_{t(y)}} && {S(X)}
		\arrow["\sigma", from=1-2, to=1-4]
		\arrow["\tau", from=3-2, to=3-4]
		\arrow[hook, from=2-1, to=1-2]
		\arrow[hook', from=2-1, to=3-2]
		\arrow["\varphi_y", from=1-4, to=3-4]
	\end{tikzcd}\]
	Para la arista con orientación opuesta tomamos $\varphi_{\ol y} = \varphi_y^{-1}$.
	De esta manera tenemos un morfismo de grupos definido sobre el grupo libre $\ast_{P \in V(Y)} G_P \ast E(Y)$.
	Por como tomamos a $\varphi_y$ y como hace conmutar al diagrama tenemos que 
	\[
	\varphi_{\ol y} \circ \sigma \circ \varphi_y = \tau.
	\]	
	Usando la definición del grupo $F(\cG)$ tenemos un morfismo de grupos $h: F(\cG) \to S(X)$ tal que la restricción a $G_P$ es inyectiva para todo $P \in V(Y)$.
	Si fijamos $P \in V(Y)$ y consideramos el subgrupo normal de $\pi_1(\cG, P)$ 
	\[
	F = \{  g \in \pi_1(G,P) \ | \ h(g) = 1  \}
	\]
	entonces por como lo consideramos tenemos que $F \cap G_Q = \{ 1 \}$ para todo $Q \in V(Y)$.
	Esto nos dice que el grupo $F$ actúa libremente sobre el árbol de Bass--Serre de nuestro grafo de grupos $\cG$.
	A su vez como $F$ es un subgrupo de $\pi_1 (\cG, P)$ tenemos que actúa sin inversiones.
	Estamos en condiciones de usar el teorema de Serre \ref{teo_Serre} y así obtenemos que este grupo debe ser libre. 
	
	Tenemos que $F$ es un subgrupo libre de $\pi_1(\cG, P)$ y queremos ver que tiene índice finito.
	Para eso notemos que al ser $|X| < \infty$ entonces $|S(X)| < \infty$ y como $S(X) \simeq \pi_1(\cG, P) / F$, por la propiedad universal del cociente, entonces $(\pi_1(\cG, P) : F) < \infty$ tal como queríamos ver.
	
	Finalmente notemos que por \ref{prop_karrass_formula} el grupo $F$ es un \fg tal como queríamos ver.
\end{proof}



%\section{Productos semi directos.}
%
%En esta sección vamos a refinar los resultados obtenidos anteriormente para ver que los grupos fundamentales de grafos finitos de grupos finitos y por lo tanto los grupos virtualmente libres se pueden meter dentro de un producto semidirecto $F Q$ donde $F$ es un grupo libre y $Q$ es un cociente finito de $G$.
%La referencia de esta sección es el paper \cite{} que a su vez se basó en los métodos del paper de Dahmani-Guirardel.
%
%\begin{prop}
%	
%\end{prop}
%\begin{proof}
%	\red{ sorry}
%\end{proof}
%
%\begin{ej}
%	Ejemplo de $SL_2(\ZZ)$.
%\end{ej}
%
%\section{Ends de grupos.}
%
%\begin{deff}
%	Ends de grupos
%\end{deff}
%
%\begin{obs}
%	No dependen de las presentaciones.
%\end{obs}
%
%\begin{teo}[Hopf]
%	La cantidad de ends de un grupo \fg solo puede ser...
%\end{teo}
%\begin{proof}
%\end{proof}
%
%\begin{deff}
%	Grupo accesible.
%\end{deff}
%
%\section{Accesibilidad en terminos de teoría de grafos.}
%
%\begin{deff}
%	Def de VK95 usando grafos.
%\end{deff}
%
%\begin{teo}
%	Probar que son equivalentes con la otra construcción.
%\end{teo}
%\begin{proof}
%	
%\end{proof}
%
%
%\begin{deff}
%	Grafos minor excluded
%\end{deff}
%
%\begin{teo}[Khukro]
%	Recaracterización de virtualmente libre usando menores de grafos.
%\end{teo}
%\begin{proof}
%\end{proof}
%
%\begin{teo}
%	Grupo qi a un árbol $\implies$ minor excluded?
%\end{teo}
%\begin{proof}
%\end{proof}









































\end{document}